namespace = ftm_market

# 1хх - для cлота 1
# 2хх - для cлота 2
# 3хх - для cлота 3
# 4хх - для cлота 4
# 5хх - для cлота 5
# 6хх - для cлота 6

# 1 - окно выбора флота для продажи
# 2 - настройка стартовой цены продажи
# 3 - запрос подтверждения продажи
# 4 - выставление на рынок
# 5 - сообщение при недостатке энергии для покупки
# 9 - обратный отсчет счетчика времени лота
# 10 - сообщение с информацией о флоте
# 11 - сообщение с информацией о покупке
# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
# 13 - сообщение что продать флот не удалось
# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
# 15 - сообщение покупателю что запрос на покупку отправлен
# 16 - сообщение продавцу что его флот хотят купить
# 17 - сообщение что нам отказались продавать флот
# 20 - сообщение что мы сняли флот с продажи
# 70 - ежемесячная проверка наличия флота на продаже
# 71 - проверка наличия энергокредитов
# 72 - проверка необходимости покупки
# 80 - ежегодная проверка условий продажи для ии
# 81 - выставление флота на продажу (ИИ)
# 99 - сообщение-уведомление о продаже



# 900 - создание империи "рынок"
# 901 - окно дипломатии с Рынком
# 902 - снятие флота с продажи при начале войны (для ИИ)
# 903 - код снятия флота с продажи (для ИИ)
# 999 - проверка на геноцидоидальность

# 9999 - открытие интерфейса рынка









###############################################
###                                         ###
###      #### #      ###  #####     #       ###
###     #     #     #   #   #      ##       ###
###      ###  #     #   #   #     # #       ###
###         # #     #   #   #       #       ###
###     ####  #####  ###    #     #####     ###
###                                         ###
###############################################


# 1 - окно выбора флота для рынка
country_event = {
	id = ftm_market.101
	title = "ftm_market.101.title"
	desc = "ftm_market.101.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_1_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_1_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_1_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_1_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_1_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_1_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_1_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_1_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_1_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_1_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_1_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_1_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_1_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_1_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_1_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_1_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_1_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_1_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_1_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_1_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_1_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_1_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_1_03
								is_same_value = event_target:ftm_marketed_fleet_slot_1_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_1_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_1_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_1_03
							is_same_value = event_target:ftm_marketed_fleet_slot_1_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_1_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_1_05_buyer
					}
				}
			}
		}
		save_global_event_target_as = ftm_marketed_fleet_slot_1_seller
		log = "[Root.GetName] запустил рынок флота"
		set_variable = {
			which = ftm_marketed_fleet_slot_1_cost_manual
			value = 100
		}
	}
		
	# выбор флота 1
	option = {
		name = ftm_market.101.fleet_01
		custom_tooltip = ftm_market.101.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_1_01 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_1_01.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_1_01 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_1
			}
			country_event = { id = ftm_market.102 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_market.101.fleet_02
		custom_tooltip = ftm_market.101.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_1_02
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_1_02.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_1_02 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_1
			}
			country_event = { id = ftm_market.102 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_market.101.fleet_03
		custom_tooltip = ftm_market.101.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_1_03
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_1_03.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_1_03 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_1
			}
			country_event = { id = ftm_market.102 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_market.101.fleet_04
		custom_tooltip = ftm_market.101.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_1_04
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_1_04.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_1_04 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_1
			}
			country_event = { id = ftm_market.102 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_market.101.fleet_05
		custom_tooltip = ftm_market.101.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_1_05 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_1_05.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_1_05 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_1
			}
			country_event = { id = ftm_market.102 }
		}
	}
		
	# передумал
	option = {
		name = ftm_market.101.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот"
			remove_global_flag = ftm_market_slot_1_in_progress	
		}
	}
	
}





# 2 - ручная настройка стартовой цены рынка
country_event = {
	id = ftm_market.102
	title = "ftm_market.102.title"
	desc = "ftm_market.102.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_market.102.minus10000
		custom_tooltip = ftm_market.102.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value = -10000
			}
			country_event = { id = ftm_market.102 }
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_1_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_market.102.minus1000
		custom_tooltip = ftm_market.102.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value = -1000
			}
			country_event = { id = ftm_market.102 }
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_1_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_market.102.minus100
		custom_tooltip = ftm_market.102.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value = -100
			}
			country_event = { id = ftm_market.102 }
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_1_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_market.102.plus100
		custom_tooltip = ftm_market.102.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value = 100
			}
			country_event = { id = ftm_market.102 }
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_1_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_market.102.plus1000
		custom_tooltip = ftm_market.102.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value = 1000
			}
			country_event = { id = ftm_market.102 }
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_1_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_market.102.plus10000
		custom_tooltip = ftm_market.102.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_1_cost_manual
				value = 10000
			}
			country_event = { id = ftm_market.102 }
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_1_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_market.102.done
		custom_tooltip = ftm_market.102.done.tooltip
		hidden_effect = {
			# счетчик текущей цены
			set_variable = {
				which = ftm_marketed_fleet_slot_1_cost
				value = ftm_marketed_fleet_slot_1_cost_manual
			}
			country_event = { id = ftm_market.103 }
			log = "[Root.GetName] выставляет флот [event_target:ftm_marketed_fleet_slot_1.GetFleetName] на рынок за стартовую цену: [Root.ftm_marketed_fleet_slot_1_cost]. Нужно подтверждение"
		}
	}
	
	
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_market.103
	title = "ftm_market.103.title"
	desc = "ftm_market.103.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_1
		
	# подтвердить
	option = {
		name = ftm_market.103.confirm
		custom_tooltip = ftm_market.103.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_marketed_fleet_slot_1.GetFleetName] через рынок"
			country_event = { id = ftm_market.104 }
			remove_global_flag = ftm_market_slot_1_in_progress
			set_global_flag = ftm_market_slot_1_selected
			event_target:ftm_marketed_fleet_slot_1 = { 
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.199 }
			}
			set_variable = {
				which = ftm_market_slot_1_time_in_months
				value = 60
			}
		}
	}
		
	# отказаться
	option = {
		name = ftm_market.103.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал выставлять флот [event_target:ftm_marketed_fleet_slot_1.GetFleetName] на рынок"
			remove_global_flag = ftm_market_slot_1_in_progress	
		}
	}
	
}





# 4 - выставление на продажу
country_event = {
	id = ftm_market.104
	hide_window = yes	
	is_triggered_only = yes

	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_marketed_fleet_slot_1_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_marketed_fleet_slot_1_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_marketed_fleet_slot_1_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_marketed_fleet_slot_1_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_marketed_fleet_slot_1_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_marketed_fleet_slot_1_titan_count # всего
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_1 
				}
			}	
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_1_corvette_count # всего
					value = 1
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_1 
				}
			}
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_1_destroyer_count # всего
					value = 1
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_1 
				}
			}
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_1_cruiser_count # всего
					value = 1
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_1 
				}
				
			}
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_1_battleship_count # всего
					value = 1
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_1 
				}
			}
			event_target:ftm_marketed_fleet_slot_1_seller = {
				change_variable = {
					which = ftm_marketed_fleet_slot_1_titan_count # всего
					value = 1
				}
			}
		}
	}
}





# 5 - сообщение при недостатке энергии для покупки
country_event = {
	id = ftm_market.105
	title = "ftm_market.105.title"
	desc = "ftm_market.105.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_1
		
	# ок
	option = {
		name = ftm_market.105.ok
	}
}

# 9 - обратный отсчет счетчика времени слота
event = {
	id = ftm_market.109
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_1_selected
	}
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					check_variable = {
						which = ftm_market_slot_1_time_in_months
						value >= 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				change_variable = {
					which = ftm_market_slot_1_time_in_months
					value = -1
				}
			}
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					check_variable = {
						which = ftm_market_slot_1_time_in_months
						value < 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_1 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_1_seller
				set_event_locked = no
			}
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				country_event = { id = ftm_market.113 }
			}
			remove_global_flag = ftm_market_slot_1_selected
		}
	}
}





# 10 - сообщение с информацией о флоте
country_event = {
	id = ftm_market.110
	title = "ftm_market.110.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.110.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.110.desc_mod"
	}
	picture = GFX_evt_fleet_neutral 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_1
		
	# ок
	option = {
		name = ftm_market.110.ok
	}
}





# 11 - сообщение с информацией о покупке
country_event = {
	id = ftm_market.111
	title = "ftm_market.111.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.111.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.111.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_1
		
	# ок
	option = {
		name = ftm_market.111.ok
	}
}





# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
country_event = {
	id = ftm_market.112
	title = "ftm_market.112.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.112.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.112.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_1
		
	# ок
	option = {
		name = ftm_market.112.ok
		custom_tooltip = ftm_market.112.ok.tooltip
		hidden_effect = {

			# присвоение денег продавцу
				
			event_target:ftm_marketed_fleet_slot_1_seller = { 							
				set_variable = {
					which = ftm_marketed_fleet_slot_1_final_cost
					value = ftm_marketed_fleet_slot_1_cost
				}
			}
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName]: победила цена в [event_target:ftm_marketed_fleet_slot_1_seller.ftm_marketed_fleet_slot_1_cost] энергии. Присвоение денег..."
			while = {
				count = 99
				if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_1_final_cost
								value >= 10000
							}
						}
					}
					add_resource = { energy = 10000 }
					event_target:ftm_marketed_fleet_slot_1_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_1_final_cost
							value = -10000
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_1_final_cost
								value >= 1000
							}
						}
					}
					add_resource = { energy = 1000 }
					event_target:ftm_marketed_fleet_slot_1_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_1_final_cost
							value = -1000
						}		
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_1_final_cost
								value >= 100
							}
						}
					}
					add_resource = { energy = 100 }
					event_target:ftm_marketed_fleet_slot_1_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_1_final_cost
							value = -100
						}
					}					
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_1_final_cost
								value >= 10
							}
						}
					}
					add_resource = { energy = 10 }
					event_target:ftm_marketed_fleet_slot_1_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_1_final_cost
							value = -10
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_1_final_cost
								value >= 1
							}
						}
					}
					add_resource = { energy = 1 }
					event_target:ftm_marketed_fleet_slot_1_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_1_final_cost
							value = -1
						}					
					}
				}
				else = {
					#nothing
				}
			}	
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName]: Присвоение денег завершено"	
		
		}
	}
}





# 13 - сообщение что продать флот не удалось
country_event = {
	id = ftm_market.113
	title = "ftm_market.113.title"
	desc = "ftm_market.113.desc"
	picture = GFX_evt_hangar_bay 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_1
		
	# ок
	option = {
		name = ftm_market.113.ok
	}
}





# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
country_event = {
	id = ftm_market.114
	title = "ftm_market.114.title"
	desc = "ftm_market.114.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.114.ok
	}
}





# 15 - сообщение покупателю что запрос на покупку отправлен
country_event = {
	id = ftm_market.115
	title = "ftm_market.115.title"
	desc = "ftm_market.115.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.115.ok
	}
}





# 16 - сообщение продавцу что его флот хотят купить
country_event = {
	id = ftm_market.116
	title = "ftm_market.116.title"
	desc = "ftm_market.116.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# да
	option = {
		name = ftm_market.116.yes
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] accept request."
			event_target:ftm_market_slot_1_requester = { 
				save_global_event_target_as = ftm_market_slot_1_buyer
				
				# передача флота и денег
				event_target:ftm_marketed_fleet_slot_1 = { 
					set_fleet_flag = ftm_marketed_fleet_slot_1
					set_owner = event_target:ftm_market_slot_1_buyer
					set_event_locked = no
				}
				
				country_event = { id = ftm_market.111 }
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					country_event = { id = ftm_market.112 }
				}
				remove_global_flag = ftm_market_slot_1_selected
			}
		}
	}
	# нет
	option = {
		name = ftm_market.116.no
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] reject request."
			event_target:ftm_market_slot_1_requester = {
				country_event = { id = ftm_market.117 }
			
				# возврат ресурсов 	
		
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_1_lot_back_cost
						value = ftm_marketed_fleet_slot_1_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_back_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = 10000 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_back_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_back_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = 1000 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_back_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_back_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = 100 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_back_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_back_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = 10 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_back_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_back_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = 1 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_back_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}
			}
		}
	}
}




# 17 - сообщение что нам отказались продавать флот
country_event = {
	id = ftm_market.117
	title = "ftm_market.117.title"
	desc = "ftm_market.117.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.117.ok
	}
}





# 20 - сообщение-предупреждение при снятии флота с продажи
country_event = {
	id = ftm_market.120
	title = "ftm_market.120.title"
	desc = "ftm_market.120.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# снять с продажи 
	option = {
		trigger = { # ВАЖНО - УСЛОВИЕ ПРОВЕРКИ ЧТО ИГРОК И ЕСТЬ ПРОДАВЕЦ - ДЛЯ ЗАЩИТЫ ОТ БАГОЮЗЕРОВ
			is_same_value = event_target:ftm_marketed_fleet_slot_1_seller
		}
		name = ftm_market.120.yes
		hidden_effect = {
			if = {
				limit = {
					event_target:ftm_marketed_fleet_slot_1 = { 
						exists = owner
						owner = { 
							is_same_value = event_target:ftm_market_country
						}
					}
				}
				log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] снимает флот с продажи."
				event_target:ftm_marketed_fleet_slot_1 = { 
					set_owner = event_target:ftm_marketed_fleet_slot_1_seller
					set_event_locked = no
				}
				remove_global_flag = ftm_market_slot_1_selected
			}
		}
	}
		
	# оставить флот на продаже
	option = {
		name = ftm_market.120.no
	}
}





# 70 - ежемесячная проверка наличия флота на продаже
event = {
	id = ftm_market.170
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_1_selected
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_flag = ftm_market_slot_1_selected
			}
			every_country = {
				limit = {
					NOT = {
						is_same_value = event_target:ftm_marketed_fleet_slot_1_seller
					}
					NOT = {
						has_country_flag = ftm_ai_buy_block_time
					}
					NOT = {
						event_target:ftm_marketed_fleet_slot_1_seller = {
							OR = {
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
					is_ai = yes
					is_country_type = default
					used_naval_capacity_percent < 0.8
					has_monthly_income = { resource = energy value >= 10 }
					has_monthly_income = { resource = alloys value >= 5 }
					has_communications = event_target:ftm_marketed_fleet_slot_1_seller
				}
				random_list = {
					10 = {
						country_event = { id = ftm_market.171 days = 1 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 4 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 7 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 10 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 13 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 16 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 19 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 22 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 25 }
					}
					10 = {
						country_event = { id = ftm_market.171 days = 28 }
					}
				}
			}
		}
	}
}


# 71 - проверка наличия энергокредитов
country_event = {
	id = ftm_market.171
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_1_selected
		NOT = {
			has_country_flag = ftm_ai_buy_block_time
		}
	}
	
	immediate = {
		log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
		event_target:ftm_marketed_fleet_slot_1_seller = { 
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count
				value = 0
			}
		}
		set_variable = {
			which = ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count
			value = 0
		}
		save_event_target_as = ftm_marketed_fleet_slot_1_checker
		export_resource_stockpile_to_variable = { resource = energy variable = ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count }
		event_target:ftm_marketed_fleet_slot_1_seller = {
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count
				value = event_target:ftm_marketed_fleet_slot_1_checker.ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count
			}
		}
		log = "[Root.GetName]: ЗАВЕРШЕНА ПРОВЕРКА ЭНЕРГИИ ДЛЯ ВХОДА НА РЫНОК. КОЛИЧЕСТВО: [event_target:ftm_marketed_fleet_slot_1_seller.ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count]."
		
		# проверка наличия энергии для входа на рынок
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count
						value >= ftm_marketed_fleet_slot_1_cost
					}
				}
			}
			log = "[Root.GetName]: средств для входа на рынок достаточно."
			country_event = { id = ftm_market.172 }
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_1_energy_ai_current_count
						value < ftm_marketed_fleet_slot_1_cost
					}
				}
			}
			log = "[Root.GetName]: не хватает средств для входа на рынок."
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 40 }
		}
	}
}


# 72 - проверка необходимости покупки
country_event = {
	id = ftm_market.172
	hide_window = yes	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					AND = { # нормальные условия
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 2500
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 4700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 30 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 8600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 19700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 35800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 64300
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 200 }
								has_monthly_income = { resource = alloys value >= 100 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 142900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 300 }
								has_monthly_income = { resource = alloys value >= 150 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 250000
									}
								}
							}
						}
					}
					AND = { # угроза - сильный сосед
						OR = {
							AND = {
								is_at_war = no
								any_neighbor_country = {
									#has_communications = root
									is_country_type = default
									OR = {
										is_homicidal = yes
										AND = {
											is_rival = root
											relative_power = {
												who = root
												category = fleet
												value >= equivalent
											}
										}
									}
								}
							}
							AND = {
								has_global_flag = gray_goo_crisis_active
								NOT = {
									has_global_flag = graygoo_defeated
								}
							}
							AND = {
								has_global_flag = marauder_crisis_started
								NOT = {
									has_global_flag = great_khan_dead
								}
							}
							has_global_flag = war_in_heaven_ongoing
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 3750
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 7050
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 12900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 29550
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 53700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 96450
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 214350
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 375000
									}
								}
							}
						}
					}
					AND = { # кризис - война с сильным противником
						OR = {
							AND = {
								is_at_war = yes
								any_war = {
									any_war_participant = {
										is_at_war_with = root
										relative_power = {
											who = root
											category = fleet
											value >= equivalent
										}
									}
								}
							}
							has_global_flag = crisis_stage_1
							has_global_flag = crisis_stage_2
							has_global_flag = crisis_stage_3
							has_global_flag = crisis_stage_4
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 10 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 5000
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 7 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 9400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 17200
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 39400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 35 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 71600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 128600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 35 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 285800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_1 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_1_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value <= 500000
									}
								}
							}
						}
					}
				}
			} # конец проверки
			
			log = "[Root.GetName]: сделал покупку флота."
			save_global_event_target_as = ftm_market_slot_1_buyer
			
			# передача флота и денег
			event_target:ftm_marketed_fleet_slot_1 = { 
				set_owner = event_target:ftm_market_slot_1_buyer
				set_event_locked = no
			}
			event_target:ftm_market_slot_1_buyer = {
				set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
				set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 450 } 
			
				# снятие ресурсов при покупке			
		
				event_target:ftm_marketed_fleet_slot_1_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_1_lot_cost
						value = ftm_marketed_fleet_slot_1_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = -10000 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = -1000 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = -100 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = -10 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_1_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_1_lot_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = -1 }
						event_target:ftm_marketed_fleet_slot_1_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_1_lot_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}	
			}
			event_target:ftm_marketed_fleet_slot_1_seller = { 
				country_event = { id = ftm_market.112 }
			}
			remove_global_flag = ftm_market_slot_1_selected	
		}
		else = {
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 300 }
		}
	}
}



# 80 - ежегодная проверка условий продажи для ии
event = {
	id = ftm_market.180
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_1_selected
				has_global_flag = ftm_market_slot_1_in_progress	
			}
		}
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		NOT = {
			OR = {
				has_global_flag = crisis_stage_1
				has_global_flag = crisis_stage_2
				has_global_flag = crisis_stage_3
				has_global_flag = crisis_stage_4
				AND = {
					has_global_flag = gray_goo_crisis_active
					NOT = {
						has_global_flag = graygoo_defeated
					}
				}
				AND = {
					has_global_flag = marauder_crisis_started
					NOT = {
						has_global_flag = great_khan_dead
					}
				}
				has_global_flag = war_in_heaven_ongoing
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						has_global_flag = ftm_market_slot_1_selected
						has_global_flag = ftm_market_slot_1_in_progress	
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						has_country_flag = ftm_ai_sell_block_time
					}
					is_homicidal = no
					is_ai = yes
					is_country_type = default
					is_at_war = no
					used_naval_capacity_percent > 0.8
					resource_stockpile_compare = { resource = energy value < 50000 }
					NOT = {
						any_neighbor_country = {
							is_country_type = default
							OR = {
								is_homicidal = yes
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
				}
				set_variable = {
					which = ftm_market_slot_1_num_fleet_count
					value = 0
				}
				every_owned_fleet = {
					limit = {
						fleet_power > 2000
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
					}
					owner = {
						change_variable = {
							which = ftm_market_slot_1_num_fleet_count
							value = 1
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_market_slot_1_num_fleet_count
							value > 2
						}
					}
					random_list = {
						10 = {
							country_event = { id = ftm_market.181 days = 8 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 38 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 68 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 98 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 128 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 158 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 188 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 218 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 248 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 278 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 308 }
						}
						10 = {
							country_event = { id = ftm_market.181 days = 338 }
						}
					}
				}
			}
		}
	}
}


# 81 - выставление флота на продажу (ИИ)
country_event = {
	id = ftm_market.181
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_1_selected
				has_global_flag = ftm_market_slot_1_in_progress	
				has_country_flag = ftm_ai_sell_block_time
			}
		}
	}
	
	immediate = {
		save_global_event_target_as = ftm_marketed_fleet_slot_1_seller
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
						OR = {
							AND = {
								fleet_power > 2000
								years_passed >= 20
								years_passed < 50
							}
							AND = {
								fleet_power > 5000
								years_passed >= 50
								years_passed < 100
							}
							AND = {
								fleet_power > 10000
								years_passed >= 100
								years_passed < 150
							}
							AND = {
								fleet_power > 20000
								years_passed >= 150
								years_passed < 200
							}
							AND = {
								fleet_power > 30000
								years_passed >= 200
							}
							AND = {
								fleet_power > 10000
								mid_game_years_passed > 0
							}
							AND = {
								fleet_power > 30000
								end_game_years_passed > 0
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
					OR = {
						AND = {
							fleet_power > 2000
							years_passed >= 20
							years_passed < 50
						}
						AND = {
							fleet_power > 5000
							years_passed >= 50
							years_passed < 100
						}
						AND = {
							fleet_power > 10000
							years_passed >= 100
							years_passed < 150
						}
						AND = {
							fleet_power > 20000
							years_passed >= 150
							years_passed < 200
						}
						AND = {
							fleet_power > 30000
							years_passed >= 200
						}
						AND = {
							fleet_power > 10000
							mid_game_years_passed > 0
						}
						AND = {
							fleet_power > 30000
							end_game_years_passed > 0
						}
					}
				}
				save_global_event_target_as = ftm_marketed_fleet_slot_1
				log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_1.GetFleetName])"
				event_target:ftm_marketed_fleet_slot_1_seller = {
					set_variable = {
						which = ftm_marketed_fleet_slot_1_cost
						value = 0
					}
				}
				if = {
					limit = {
						fleet_power < 3000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 1500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 3000
						fleet_power < 5000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 2500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 5000
						fleet_power < 7500
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 3800
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 7500
						fleet_power < 10000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 5000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 10000
						fleet_power < 15000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 7500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 15000
						fleet_power < 20000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 10000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 20000
						fleet_power < 30000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 15000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 30000
						fleet_power < 40000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 20000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 40000
						fleet_power < 50000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 24000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 50000
						fleet_power < 65000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 31000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 65000
						fleet_power < 80000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 38000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 80000
						fleet_power < 100000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 47000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 100000
						fleet_power < 125000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 57000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 125000
						fleet_power < 150000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 67000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 150000
						fleet_power < 180000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 78000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 180000
						fleet_power < 220000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 100000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 220000
						fleet_power < 260000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 110000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 260000
						fleet_power < 300000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 120000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 300000
						fleet_power < 360000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 140000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 360000
						fleet_power < 430000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 160000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 430000
						fleet_power < 500000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 170000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 500000
						fleet_power < 600000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 190000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 600000
						fleet_power < 750000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 210000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 750000
						fleet_power < 1000000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 220000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 1000000
					}
					event_target:ftm_marketed_fleet_slot_1_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_1_cost
							value = 23000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_1_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_1_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				event_target:ftm_marketed_fleet_slot_1_seller = {
					log = "[Root.GetName]: ценность флота [event_target:ftm_marketed_fleet_slot_1.GetFleetName] равна [Root.ftm_marketed_fleet_slot_1_cost]"
					multiply_variable = {
						which = ftm_marketed_fleet_slot_1_cost
						value = @ftm_cost_mult_energy
					}
					log = "[Root.GetName]: ценна флота [event_target:ftm_marketed_fleet_slot_1.GetFleetName] в энергокредитах равна [Root.ftm_marketed_fleet_slot_1_cost]"
					round_variable_to_closest = {
						which = ftm_marketed_fleet_slot_1_cost
						value = 1
					}
					log = "[Root.GetName]: окончательная цена флота [event_target:ftm_marketed_fleet_slot_1.GetFleetName] равна [Root.ftm_marketed_fleet_slot_1_cost]"
				}
			}
			set_global_flag = ftm_market_slot_1_selected
			country_event = { id = ftm_market.104 }
			event_target:ftm_marketed_fleet_slot_1 = { 
				if = {
					limit = {
						exists = leader
					}
					leader = {
						unassign_leader = this
					}
				}
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.199 }
			}
			set_variable = {
				which = ftm_market_slot_1_time_in_months
				value = 60
			}
			set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 900 }
		}
	}
}





# 99 - сообщение-уведомление
fleet_event = {
	id = ftm_market.199
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = { 
				AND = {
					is_country_type = default 
					has_communications = event_target:ftm_marketed_fleet_slot_1_seller
					is_homicidal = no
				}
			}
			create_message = {
				type = FTM_MESSAGE
				localization = FTM_MARKET_SLOT_1_NOTIFICATION
				days = 30
				target = event_target:ftm_marketed_fleet_slot_1
				variable = {
					type = name
					localization = COUNTRY
					scope = event_target:ftm_marketed_fleet_slot_1_seller
				}
				variable = {
					type = name
					localization = FLEET
					scope = event_target:ftm_marketed_fleet_slot_1
				}
			}
		}
	}		
}









###############################################
###                                         ###
###      #### #      ###  #####             ###
###     #     #     #   #   #               ###
###      ###  #     #   #   #               ###
###         # #     #   #   #               ###
###     ####  #####  ###    #               ###
###                                         ###
###############################################


# 1 - окно выбора флота для рынка
country_event = {
	id = ftm_market.201
	title = "ftm_market.201.title"
	desc = "ftm_market.201.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_2_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_2_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_2_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_2_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_2_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_2_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_2_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_2_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_2_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_2_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_2_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_2_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_2_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_2_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_2_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_2_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_2_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_2_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_2_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_2_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_2_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_2_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_2_03
								is_same_value = event_target:ftm_marketed_fleet_slot_2_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_2_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_2_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_2_03
							is_same_value = event_target:ftm_marketed_fleet_slot_2_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_2_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_2_05_buyer
					}
				}
			}
		}
		save_global_event_target_as = ftm_marketed_fleet_slot_2_seller
		log = "[Root.GetName] запустил рынок флота"
		set_variable = {
			which = ftm_marketed_fleet_slot_2_cost_manual
			value = 100
		}
	}
		
	# выбор флота 1
	option = {
		name = ftm_market.201.fleet_01
		custom_tooltip = ftm_market.201.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_2_01 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_2_01.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_2_01 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_2
			}
			country_event = { id = ftm_market.202 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_market.201.fleet_02
		custom_tooltip = ftm_market.201.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_2_02
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_2_02.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_2_02 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_2
			}
			country_event = { id = ftm_market.202 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_market.201.fleet_03
		custom_tooltip = ftm_market.201.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_2_03
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_2_03.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_2_03 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_2
			}
			country_event = { id = ftm_market.202 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_market.201.fleet_04
		custom_tooltip = ftm_market.201.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_2_04
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_2_04.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_2_04 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_2
			}
			country_event = { id = ftm_market.202 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_market.201.fleet_05
		custom_tooltip = ftm_market.201.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_2_05 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_2_05.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_2_05 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_2
			}
			country_event = { id = ftm_market.202 }
		}
	}
		
	# передумал
	option = {
		name = ftm_market.201.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот"
			remove_global_flag = ftm_market_slot_2_in_progress	
		}
	}
	
}





# 2 - ручная настройка стартовой цены рынка
country_event = {
	id = ftm_market.202
	title = "ftm_market.202.title"
	desc = "ftm_market.202.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_market.202.minus10000
		custom_tooltip = ftm_market.202.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value = -10000
			}
			country_event = { id = ftm_market.202 }
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_2_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_market.202.minus1000
		custom_tooltip = ftm_market.202.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value = -1000
			}
			country_event = { id = ftm_market.202 }
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_2_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_market.202.minus100
		custom_tooltip = ftm_market.202.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value = -100
			}
			country_event = { id = ftm_market.202 }
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_2_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_market.202.plus100
		custom_tooltip = ftm_market.202.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value = 100
			}
			country_event = { id = ftm_market.202 }
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_2_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_market.202.plus1000
		custom_tooltip = ftm_market.202.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value = 1000
			}
			country_event = { id = ftm_market.202 }
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_2_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_market.202.plus10000
		custom_tooltip = ftm_market.202.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_2_cost_manual
				value = 10000
			}
			country_event = { id = ftm_market.202 }
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_2_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_market.202.done
		custom_tooltip = ftm_market.202.done.tooltip
		hidden_effect = {
			# счетчик текущей цены
			set_variable = {
				which = ftm_marketed_fleet_slot_2_cost
				value = ftm_marketed_fleet_slot_2_cost_manual
			}
			country_event = { id = ftm_market.203 }
			log = "[Root.GetName] выставляет флот [event_target:ftm_marketed_fleet_slot_2.GetFleetName] на рынок за стартовую цену: [Root.ftm_marketed_fleet_slot_2_cost]. Нужно подтверждение"
		}
	}
	
	
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_market.203
	title = "ftm_market.203.title"
	desc = "ftm_market.203.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_2
		
	# подтвердить
	option = {
		name = ftm_market.203.confirm
		custom_tooltip = ftm_market.203.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_marketed_fleet_slot_2.GetFleetName] через рынок"
			country_event = { id = ftm_market.204 }
			remove_global_flag = ftm_market_slot_2_in_progress
			set_global_flag = ftm_market_slot_2_selected
			event_target:ftm_marketed_fleet_slot_2 = { 
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.299 }
			}
			set_variable = {
				which = ftm_market_slot_2_time_in_months
				value = 60
			}
		}
	}
		
	# отказаться
	option = {
		name = ftm_market.203.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал выставлять флот [event_target:ftm_marketed_fleet_slot_2.GetFleetName] на рынок"
			remove_global_flag = ftm_market_slot_2_in_progress	
		}
	}
	
}





# 4 - выставление на продажу
country_event = {
	id = ftm_market.204
	hide_window = yes	
	is_triggered_only = yes

	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_marketed_fleet_slot_2_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_marketed_fleet_slot_2_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_marketed_fleet_slot_2_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_marketed_fleet_slot_2_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_marketed_fleet_slot_2_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_marketed_fleet_slot_2_titan_count # всего
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_2 
				}
			}	
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_2_corvette_count # всего
					value = 1
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_2 
				}
			}
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_2_destroyer_count # всего
					value = 1
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_2 
				}
			}
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_2_cruiser_count # всего
					value = 1
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_2 
				}
				
			}
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_2_battleship_count # всего
					value = 1
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_2 
				}
			}
			event_target:ftm_marketed_fleet_slot_2_seller = {
				change_variable = {
					which = ftm_marketed_fleet_slot_2_titan_count # всего
					value = 1
				}
			}
		}
	}
}





# 5 - сообщение при недостатке энергии для покупки
country_event = {
	id = ftm_market.205
	title = "ftm_market.205.title"
	desc = "ftm_market.205.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_2
		
	# ок
	option = {
		name = ftm_market.205.ok
	}
}

# 9 - обратный отсчет счетчика времени слота
event = {
	id = ftm_market.209
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_2_selected
	}
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					check_variable = {
						which = ftm_market_slot_2_time_in_months
						value >= 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				change_variable = {
					which = ftm_market_slot_2_time_in_months
					value = -1
				}
			}
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					check_variable = {
						which = ftm_market_slot_2_time_in_months
						value < 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_2 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_2_seller
				set_event_locked = no
			}
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				country_event = { id = ftm_market.213 }
			}
			remove_global_flag = ftm_market_slot_2_selected
		}
	}
}





# 10 - сообщение с информацией о флоте
country_event = {
	id = ftm_market.210
	title = "ftm_market.210.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.210.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.210.desc_mod"
	}
	picture = GFX_evt_fleet_neutral 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_2
		
	# ок
	option = {
		name = ftm_market.210.ok
	}
}





# 11 - сообщение с информацией о покупке
country_event = {
	id = ftm_market.211
	title = "ftm_market.211.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.211.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.211.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_2
		
	# ок
	option = {
		name = ftm_market.211.ok
	}
}





# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
country_event = {
	id = ftm_market.212
	title = "ftm_market.212.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.212.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.212.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_2
		
	# ок
	option = {
		name = ftm_market.212.ok
		custom_tooltip = ftm_market.212.ok.tooltip
		hidden_effect = {

			# присвоение денег продавцу
				
			event_target:ftm_marketed_fleet_slot_2_seller = { 							
				set_variable = {
					which = ftm_marketed_fleet_slot_2_final_cost
					value = ftm_marketed_fleet_slot_2_cost
				}
			}
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName]: победила цена в [event_target:ftm_marketed_fleet_slot_2_seller.ftm_marketed_fleet_slot_2_cost] энергии. Присвоение денег..."
			while = {
				count = 99
				if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_2_final_cost
								value >= 10000
							}
						}
					}
					add_resource = { energy = 10000 }
					event_target:ftm_marketed_fleet_slot_2_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_2_final_cost
							value = -10000
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_2_final_cost
								value >= 1000
							}
						}
					}
					add_resource = { energy = 1000 }
					event_target:ftm_marketed_fleet_slot_2_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_2_final_cost
							value = -1000
						}		
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_2_final_cost
								value >= 100
							}
						}
					}
					add_resource = { energy = 100 }
					event_target:ftm_marketed_fleet_slot_2_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_2_final_cost
							value = -100
						}
					}					
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_2_final_cost
								value >= 10
							}
						}
					}
					add_resource = { energy = 10 }
					event_target:ftm_marketed_fleet_slot_2_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_2_final_cost
							value = -10
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_2_final_cost
								value >= 1
							}
						}
					}
					add_resource = { energy = 1 }
					event_target:ftm_marketed_fleet_slot_2_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_2_final_cost
							value = -1
						}					
					}
				}
				else = {
					#nothing
				}
			}	
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName]: Присвоение денег завершено"	
		
		}
	}
}





# 13 - сообщение что продать флот не удалось
country_event = {
	id = ftm_market.213
	title = "ftm_market.213.title"
	desc = "ftm_market.213.desc"
	picture = GFX_evt_hangar_bay 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_2
		
	# ок
	option = {
		name = ftm_market.213.ok
	}
}





# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
country_event = {
	id = ftm_market.214
	title = "ftm_market.214.title"
	desc = "ftm_market.214.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.214.ok
	}
}





# 15 - сообщение покупателю что запрос на покупку отправлен
country_event = {
	id = ftm_market.215
	title = "ftm_market.215.title"
	desc = "ftm_market.215.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.215.ok
	}
}





# 16 - сообщение продавцу что его флот хотят купить
country_event = {
	id = ftm_market.216
	title = "ftm_market.216.title"
	desc = "ftm_market.216.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# да
	option = {
		name = ftm_market.216.yes
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] accept request."
			event_target:ftm_market_slot_2_requester = { 
				save_global_event_target_as = ftm_market_slot_2_buyer
				
				# передача флота и денег
				event_target:ftm_marketed_fleet_slot_2 = { 
					set_fleet_flag = ftm_marketed_fleet_slot_2
					set_owner = event_target:ftm_market_slot_2_buyer
					set_event_locked = no
				}
				
				country_event = { id = ftm_market.211 }
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					country_event = { id = ftm_market.212 }
				}
				remove_global_flag = ftm_market_slot_2_selected
			}
		}
	}
	# нет
	option = {
		name = ftm_market.216.no
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] reject request."
			event_target:ftm_market_slot_2_requester = {
				country_event = { id = ftm_market.217 }
			
				# возврат ресурсов 	
		
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_2_lot_back_cost
						value = ftm_marketed_fleet_slot_2_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_back_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = 10000 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_back_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_back_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = 1000 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_back_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_back_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = 100 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_back_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_back_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = 10 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_back_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_back_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = 1 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_back_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}
			}
		}
	}
}





# 17 - сообщение что нам отказались продавать флот
country_event = {
	id = ftm_market.217
	title = "ftm_market.217.title"
	desc = "ftm_market.217.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.217.ok
	}
}





# 20 - сообщение-предупреждение при снятии флота с продажи
country_event = {
	id = ftm_market.220
	title = "ftm_market.220.title"
	desc = "ftm_market.220.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# снять с продажи 
	option = {
		trigger = { # ВАЖНО - УСЛОВИЕ ПРОВЕРКИ ЧТО ИГРОК И ЕСТЬ ПРОДАВЕЦ - ДЛЯ ЗАЩИТЫ ОТ БАГОЮЗЕРОВ
			is_same_value = event_target:ftm_marketed_fleet_slot_2_seller
		}
		name = ftm_market.220.yes
		hidden_effect = {
			if = {
				limit = {
					event_target:ftm_marketed_fleet_slot_2 = { 
						exists = owner
						owner = { 
							is_same_value = event_target:ftm_market_country
						}
					}
				}
				log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] снимает флот с продажи."
				event_target:ftm_marketed_fleet_slot_2 = { 
					set_owner = event_target:ftm_marketed_fleet_slot_2_seller
					set_event_locked = no
				}
				remove_global_flag = ftm_market_slot_2_selected
			}
		}
	}
		
	# оставить флот на продаже
	option = {
		name = ftm_market.220.no
	}
}





# 70 - ежемесячная проверка наличия флота на продаже
event = {
	id = ftm_market.270
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_2_selected
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_flag = ftm_market_slot_2_selected
			}
			every_country = {
				limit = {
					NOT = {
						is_same_value = event_target:ftm_marketed_fleet_slot_2_seller
					}
					NOT = {
						has_country_flag = ftm_ai_buy_block_time
					}
					NOT = {
						event_target:ftm_marketed_fleet_slot_2_seller = {
							OR = {
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
					is_ai = yes
					is_country_type = default
					used_naval_capacity_percent < 0.8
					has_monthly_income = { resource = energy value >= 10 }
					has_monthly_income = { resource = alloys value >= 5 }
					has_communications = event_target:ftm_marketed_fleet_slot_2_seller
				}
				random_list = {
					10 = {
						country_event = { id = ftm_market.271 days = 1 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 4 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 7 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 10 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 13 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 16 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 19 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 22 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 25 }
					}
					10 = {
						country_event = { id = ftm_market.271 days = 28 }
					}
				}
			}
		}
	}
}


# 71 - проверка наличия энергокредитов
country_event = {
	id = ftm_market.271
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_2_selected
		NOT = {
			has_country_flag = ftm_ai_buy_block_time
		}
	}
	
	immediate = {
		log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
		event_target:ftm_marketed_fleet_slot_2_seller = { 
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count
				value = 0
			}
		}
		set_variable = {
			which = ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count
			value = 0
		}
		save_event_target_as = ftm_marketed_fleet_slot_2_checker
		export_resource_stockpile_to_variable = { resource = energy variable = ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count }
		event_target:ftm_marketed_fleet_slot_2_seller = {
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count
				value = event_target:ftm_marketed_fleet_slot_2_checker.ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count
			}
		}
		log = "[Root.GetName]: ЗАВЕРШЕНА ПРОВЕРКА ЭНЕРГИИ ДЛЯ ВХОДА НА РЫНОК. КОЛИЧЕСТВО: [event_target:ftm_marketed_fleet_slot_2_seller.ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count]."
		
		# проверка наличия энергии для входа на рынок
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count
						value >= ftm_marketed_fleet_slot_2_cost
					}
				}
			}
			log = "[Root.GetName]: средств для входа на рынок достаточно."
			country_event = { id = ftm_market.272 }
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_2_energy_ai_current_count
						value < ftm_marketed_fleet_slot_2_cost
					}
				}
			}
			log = "[Root.GetName]: не хватает средств для входа на рынок."
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 40 }
		}
	}
}


# 72 - проверка необходимости покупки
country_event = {
	id = ftm_market.272
	hide_window = yes	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					AND = { # нормальные условия
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 2500
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 4700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 30 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 8600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 19700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 35800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 64300
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 200 }
								has_monthly_income = { resource = alloys value >= 100 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 142900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 300 }
								has_monthly_income = { resource = alloys value >= 150 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 250000
									}
								}
							}
						}
					}
					AND = { # угроза - сильный сосед
						OR = {
							AND = {
								is_at_war = no
								any_neighbor_country = {
									#has_communications = root
									is_country_type = default
									OR = {
										is_homicidal = yes
										AND = {
											is_rival = root
											relative_power = {
												who = root
												category = fleet
												value >= equivalent
											}
										}
									}
								}
							}
							AND = {
								has_global_flag = gray_goo_crisis_active
								NOT = {
									has_global_flag = graygoo_defeated
								}
							}
							AND = {
								has_global_flag = marauder_crisis_started
								NOT = {
									has_global_flag = great_khan_dead
								}
							}
							has_global_flag = war_in_heaven_ongoing
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 3750
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 7050
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 12900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 29550
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 53700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 96450
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 214350
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 375000
									}
								}
							}
						}
					}
					AND = { # кризис - война с сильным противником
						OR = {
							AND = {
								is_at_war = yes
								any_war = {
									any_war_participant = {
										is_at_war_with = root
										relative_power = {
											who = root
											category = fleet
											value >= equivalent
										}
									}
								}
							}
							has_global_flag = crisis_stage_1
							has_global_flag = crisis_stage_2
							has_global_flag = crisis_stage_3
							has_global_flag = crisis_stage_4
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 10 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 5000
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 7 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 9400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 17200
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 39400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 35 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 71600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 128600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 35 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 285800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_2 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_2_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value <= 500000
									}
								}
							}
						}
					}
				}
			} # конец проверки
			
			log = "[Root.GetName]: сделал покупку флота."
			save_global_event_target_as = ftm_market_slot_2_buyer
			
			# передача флота и денег
			event_target:ftm_marketed_fleet_slot_2 = { 
				set_owner = event_target:ftm_market_slot_2_buyer
				set_event_locked = no
			}
			event_target:ftm_market_slot_2_buyer = { 
				set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
				set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 450 }
			
				# снятие ресурсов при покупке			
		
				event_target:ftm_marketed_fleet_slot_2_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_2_lot_cost
						value = ftm_marketed_fleet_slot_2_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = -10000 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = -1000 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = -100 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = -10 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_2_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_2_lot_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = -1 }
						event_target:ftm_marketed_fleet_slot_2_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_2_lot_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}	
			}
			event_target:ftm_marketed_fleet_slot_2_seller = { 
				country_event = { id = ftm_market.212 }
			}
			remove_global_flag = ftm_market_slot_2_selected	
		}
		else = {
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 300 }
		}
	}
}



# 80 - ежегодная проверка условий продажи для ии
event = {
	id = ftm_market.280
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_2_selected
				has_global_flag = ftm_market_slot_2_in_progress	
			}
		}
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		NOT = {
			OR = {
				has_global_flag = crisis_stage_1
				has_global_flag = crisis_stage_2
				has_global_flag = crisis_stage_3
				has_global_flag = crisis_stage_4
				AND = {
					has_global_flag = gray_goo_crisis_active
					NOT = {
						has_global_flag = graygoo_defeated
					}
				}
				AND = {
					has_global_flag = marauder_crisis_started
					NOT = {
						has_global_flag = great_khan_dead
					}
				}
				has_global_flag = war_in_heaven_ongoing
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						has_global_flag = ftm_market_slot_2_selected
						has_global_flag = ftm_market_slot_2_in_progress	
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						has_country_flag = ftm_ai_sell_block_time
					}
					is_homicidal = no
					is_ai = yes
					is_country_type = default
					is_at_war = no
					used_naval_capacity_percent > 0.8
					resource_stockpile_compare = { resource = energy value < 50000 }
					NOT = {
						any_neighbor_country = {
							is_country_type = default
							OR = {
								is_homicidal = yes
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
				}
				set_variable = {
					which = ftm_market_slot_2_num_fleet_count
					value = 0
				}
				every_owned_fleet = {
					limit = {
						fleet_power > 2000
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
					}
					owner = {
						change_variable = {
							which = ftm_market_slot_2_num_fleet_count
							value = 1
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_market_slot_2_num_fleet_count
							value > 2
						}
					}
					random_list = {
						10 = {
							country_event = { id = ftm_market.281 days = 8 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 38 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 68 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 98 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 128 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 158 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 188 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 218 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 248 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 278 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 308 }
						}
						10 = {
							country_event = { id = ftm_market.281 days = 338 }
						}
					}
				}
			}
		}
	}
}


# 81 - выставление флота на продажу (ИИ)
country_event = {
	id = ftm_market.281
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_2_selected
				has_global_flag = ftm_market_slot_2_in_progress	
				has_country_flag = ftm_ai_sell_block_time
			}
		}
	}
	
	immediate = {
		save_global_event_target_as = ftm_marketed_fleet_slot_2_seller
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
						OR = {
							AND = {
								fleet_power > 2000
								years_passed >= 20
								years_passed < 50
							}
							AND = {
								fleet_power > 5000
								years_passed >= 50
								years_passed < 100
							}
							AND = {
								fleet_power > 10000
								years_passed >= 100
								years_passed < 150
							}
							AND = {
								fleet_power > 20000
								years_passed >= 150
								years_passed < 200
							}
							AND = {
								fleet_power > 30000
								years_passed >= 200
							}
							AND = {
								fleet_power > 10000
								mid_game_years_passed > 0
							}
							AND = {
								fleet_power > 30000
								end_game_years_passed > 0
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
					OR = {
						AND = {
							fleet_power > 2000
							years_passed >= 20
							years_passed < 50
						}
						AND = {
							fleet_power > 5000
							years_passed >= 50
							years_passed < 100
						}
						AND = {
							fleet_power > 10000
							years_passed >= 100
							years_passed < 150
						}
						AND = {
							fleet_power > 20000
							years_passed >= 150
							years_passed < 200
						}
						AND = {
							fleet_power > 30000
							years_passed >= 200
						}
						AND = {
							fleet_power > 10000
							mid_game_years_passed > 0
						}
						AND = {
							fleet_power > 30000
							end_game_years_passed > 0
						}
					}
				}
				save_global_event_target_as = ftm_marketed_fleet_slot_2
				log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_2.GetFleetName])"
				event_target:ftm_marketed_fleet_slot_2_seller = {
					set_variable = {
						which = ftm_marketed_fleet_slot_2_cost
						value = 0
					}
				}
				if = {
					limit = {
						fleet_power < 3000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 1500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 3000
						fleet_power < 5000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 2500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 5000
						fleet_power < 7500
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 3800
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 7500
						fleet_power < 10000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 5000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 10000
						fleet_power < 15000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 7500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 15000
						fleet_power < 20000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 10000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 20000
						fleet_power < 30000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 15000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 30000
						fleet_power < 40000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 20000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 40000
						fleet_power < 50000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 24000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 50000
						fleet_power < 65000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 31000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 65000
						fleet_power < 80000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 38000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 80000
						fleet_power < 100000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 47000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 100000
						fleet_power < 125000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 57000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 125000
						fleet_power < 150000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 67000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 150000
						fleet_power < 180000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 78000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 180000
						fleet_power < 220000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 100000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 220000
						fleet_power < 260000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 110000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 260000
						fleet_power < 300000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 120000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 300000
						fleet_power < 360000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 140000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 360000
						fleet_power < 430000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 160000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 430000
						fleet_power < 500000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 170000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 500000
						fleet_power < 600000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 190000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 600000
						fleet_power < 750000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 210000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 750000
						fleet_power < 1000000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 220000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 1000000
					}
					event_target:ftm_marketed_fleet_slot_2_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_2_cost
							value = 23000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_2_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_2_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				event_target:ftm_marketed_fleet_slot_2_seller = {
					log = "[Root.GetName]: ценность флота [event_target:ftm_marketed_fleet_slot_2.GetFleetName] равна [Root.ftm_marketed_fleet_slot_2_cost]"
					multiply_variable = {
						which = ftm_marketed_fleet_slot_2_cost
						value = @ftm_cost_mult_energy
					}
					log = "[Root.GetName]: ценна флота [event_target:ftm_marketed_fleet_slot_2.GetFleetName] в энергокредитах равна [Root.ftm_marketed_fleet_slot_2_cost]"
					round_variable_to_closest = {
						which = ftm_marketed_fleet_slot_2_cost
						value = 1
					}
					log = "[Root.GetName]: окончательная цена флота [event_target:ftm_marketed_fleet_slot_2.GetFleetName] равна [Root.ftm_marketed_fleet_slot_2_cost]"
				}
			}
			set_global_flag = ftm_market_slot_2_selected
			country_event = { id = ftm_market.204 }
			event_target:ftm_marketed_fleet_slot_2 = { 
				if = {
					limit = {
						exists = leader
					}
					leader = {
						unassign_leader = this
					}
				}
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.299 }
			}
			set_variable = {
				which = ftm_market_slot_2_time_in_months
				value = 60
			}
			set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 900 }
		}
	}
}






# 99 - сообщение-уведомление
fleet_event = {
	id = ftm_market.299
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = { 
				AND = {
					is_country_type = default 
					has_communications = event_target:ftm_marketed_fleet_slot_2_seller
					is_homicidal = no
				}
			}
			create_message = {
				type = FTM_MESSAGE
				localization = FTM_MARKET_SLOT_2_NOTIFICATION
				days = 30
				target = event_target:ftm_marketed_fleet_slot_2
				variable = {
					type = name
					localization = COUNTRY
					scope = event_target:ftm_marketed_fleet_slot_2_seller
				}
				variable = {
					type = name
					localization = FLEET
					scope = event_target:ftm_marketed_fleet_slot_2
				}
			}
		}
	}		
}









###############################################
###                                         ###
###      #### #      ###  #####             ###
###     #     #     #   #   #               ###
###      ###  #     #   #   #               ###
###         # #     #   #   #               ###
###     ####  #####  ###    #               ###
###                                         ###
###############################################


# 1 - окно выбора флота для рынка
country_event = {
	id = ftm_market.301
	title = "ftm_market.301.title"
	desc = "ftm_market.301.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_3_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_3_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_3_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_3_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_3_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_3_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_3_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_3_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_3_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_3_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_3_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_3_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_3_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_3_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_3_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_3_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_3_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_3_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_3_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_3_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_3_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_3_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_3_03
								is_same_value = event_target:ftm_marketed_fleet_slot_3_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_3_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_3_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_3_03
							is_same_value = event_target:ftm_marketed_fleet_slot_3_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_3_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_3_05_buyer
					}
				}
			}
		}
		save_global_event_target_as = ftm_marketed_fleet_slot_3_seller
		log = "[Root.GetName] запустил рынок флота"
		set_variable = {
			which = ftm_marketed_fleet_slot_3_cost_manual
			value = 100
		}
	}
		
	# выбор флота 1
	option = {
		name = ftm_market.301.fleet_01
		custom_tooltip = ftm_market.301.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_3_01 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_3_01.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_3_01 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_3
			}
			country_event = { id = ftm_market.302 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_market.301.fleet_02
		custom_tooltip = ftm_market.301.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_3_02
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_3_02.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_3_02 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_3
			}
			country_event = { id = ftm_market.302 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_market.301.fleet_03
		custom_tooltip = ftm_market.301.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_3_03
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_3_03.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_3_03 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_3
			}
			country_event = { id = ftm_market.302 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_market.301.fleet_04
		custom_tooltip = ftm_market.301.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_3_04
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_3_04.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_3_04 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_3
			}
			country_event = { id = ftm_market.302 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_market.301.fleet_05
		custom_tooltip = ftm_market.301.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_3_05 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_3_05.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_3_05 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_3
			}
			country_event = { id = ftm_market.302 }
		}
	}
		
	# передумал
	option = {
		name = ftm_market.301.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот"
			remove_global_flag = ftm_market_slot_3_in_progress	
		}
	}
	
}





# 2 - ручная настройка стартовой цены рынка
country_event = {
	id = ftm_market.302
	title = "ftm_market.302.title"
	desc = "ftm_market.302.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_market.302.minus10000
		custom_tooltip = ftm_market.302.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value = -10000
			}
			country_event = { id = ftm_market.302 }
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_3_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_market.302.minus1000
		custom_tooltip = ftm_market.302.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value = -1000
			}
			country_event = { id = ftm_market.302 }
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_3_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_market.302.minus100
		custom_tooltip = ftm_market.302.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value = -100
			}
			country_event = { id = ftm_market.302 }
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_3_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_market.302.plus100
		custom_tooltip = ftm_market.302.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value = 100
			}
			country_event = { id = ftm_market.302 }
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_3_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_market.302.plus1000
		custom_tooltip = ftm_market.302.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value = 1000
			}
			country_event = { id = ftm_market.302 }
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_3_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_market.302.plus10000
		custom_tooltip = ftm_market.302.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_3_cost_manual
				value = 10000
			}
			country_event = { id = ftm_market.302 }
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_3_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_market.302.done
		custom_tooltip = ftm_market.302.done.tooltip
		hidden_effect = {
			# счетчик текущей цены
			set_variable = {
				which = ftm_marketed_fleet_slot_3_cost
				value = ftm_marketed_fleet_slot_3_cost_manual
			}
			country_event = { id = ftm_market.303 }
			log = "[Root.GetName] выставляет флот [event_target:ftm_marketed_fleet_slot_3.GetFleetName] на рынок за стартовую цену: [Root.ftm_marketed_fleet_slot_3_cost]. Нужно подтверждение"
		}
	}
	
	
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_market.303
	title = "ftm_market.303.title"
	desc = "ftm_market.303.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_3
		
	# подтвердить
	option = {
		name = ftm_market.303.confirm
		custom_tooltip = ftm_market.303.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_marketed_fleet_slot_3.GetFleetName] через рынок"
			country_event = { id = ftm_market.304 }
			remove_global_flag = ftm_market_slot_3_in_progress
			set_global_flag = ftm_market_slot_3_selected
			event_target:ftm_marketed_fleet_slot_3 = { 
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.399 }
			}
			set_variable = {
				which = ftm_market_slot_3_time_in_months
				value = 60
			}
		}
	}
		
	# отказаться
	option = {
		name = ftm_market.303.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал выставлять флот [event_target:ftm_marketed_fleet_slot_3.GetFleetName] на рынок"
			remove_global_flag = ftm_market_slot_3_in_progress	
		}
	}
	
}





# 4 - выставление на продажу
country_event = {
	id = ftm_market.304
	hide_window = yes	
	is_triggered_only = yes

	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_marketed_fleet_slot_3_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_marketed_fleet_slot_3_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_marketed_fleet_slot_3_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_marketed_fleet_slot_3_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_marketed_fleet_slot_3_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_marketed_fleet_slot_3_titan_count # всего
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_3 
				}
			}	
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_3_corvette_count # всего
					value = 1
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_3 
				}
			}
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_3_destroyer_count # всего
					value = 1
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_3 
				}
			}
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_3_cruiser_count # всего
					value = 1
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_3 
				}
				
			}
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_3_battleship_count # всего
					value = 1
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_3 
				}
			}
			event_target:ftm_marketed_fleet_slot_3_seller = {
				change_variable = {
					which = ftm_marketed_fleet_slot_3_titan_count # всего
					value = 1
				}
			}
		}
	}
}





# 5 - сообщение при недостатке энергии для покупки
country_event = {
	id = ftm_market.305
	title = "ftm_market.305.title"
	desc = "ftm_market.305.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_3
		
	# ок
	option = {
		name = ftm_market.305.ok
	}
}

# 9 - обратный отсчет счетчика времени слота
event = {
	id = ftm_market.309
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_3_selected
	}
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					check_variable = {
						which = ftm_market_slot_3_time_in_months
						value >= 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				change_variable = {
					which = ftm_market_slot_3_time_in_months
					value = -1
				}
			}
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					check_variable = {
						which = ftm_market_slot_3_time_in_months
						value < 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_3 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_3_seller
				set_event_locked = no
			}
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				country_event = { id = ftm_market.313 }
			}
			remove_global_flag = ftm_market_slot_3_selected
		}
	}
}





# 10 - сообщение с информацией о флоте
country_event = {
	id = ftm_market.310
	title = "ftm_market.310.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.310.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.310.desc_mod"
	}
	picture = GFX_evt_fleet_neutral 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_3
		
	# ок
	option = {
		name = ftm_market.310.ok
	}
}





# 11 - сообщение с информацией о покупке
country_event = {
	id = ftm_market.311
	title = "ftm_market.311.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.311.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.311.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_3
		
	# ок
	option = {
		name = ftm_market.311.ok
	}
}





# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
country_event = {
	id = ftm_market.312
	title = "ftm_market.312.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.312.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.312.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_3
		
	# ок
	option = {
		name = ftm_market.312.ok
		custom_tooltip = ftm_market.312.ok.tooltip
		hidden_effect = {

			# присвоение денег продавцу
				
			event_target:ftm_marketed_fleet_slot_3_seller = { 							
				set_variable = {
					which = ftm_marketed_fleet_slot_3_final_cost
					value = ftm_marketed_fleet_slot_3_cost
				}
			}
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName]: победила цена в [event_target:ftm_marketed_fleet_slot_3_seller.ftm_marketed_fleet_slot_3_cost] энергии. Присвоение денег..."
			while = {
				count = 99
				if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_3_final_cost
								value >= 10000
							}
						}
					}
					add_resource = { energy = 10000 }
					event_target:ftm_marketed_fleet_slot_3_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_3_final_cost
							value = -10000
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_3_final_cost
								value >= 1000
							}
						}
					}
					add_resource = { energy = 1000 }
					event_target:ftm_marketed_fleet_slot_3_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_3_final_cost
							value = -1000
						}		
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_3_final_cost
								value >= 100
							}
						}
					}
					add_resource = { energy = 100 }
					event_target:ftm_marketed_fleet_slot_3_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_3_final_cost
							value = -100
						}
					}					
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_3_final_cost
								value >= 10
							}
						}
					}
					add_resource = { energy = 10 }
					event_target:ftm_marketed_fleet_slot_3_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_3_final_cost
							value = -10
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_3_final_cost
								value >= 1
							}
						}
					}
					add_resource = { energy = 1 }
					event_target:ftm_marketed_fleet_slot_3_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_3_final_cost
							value = -1
						}					
					}
				}
				else = {
					#nothing
				}
			}	
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName]: Присвоение денег завершено"	
		
		}
	}
}





# 13 - сообщение что продать флот не удалось
country_event = {
	id = ftm_market.313
	title = "ftm_market.313.title"
	desc = "ftm_market.313.desc"
	picture = GFX_evt_hangar_bay 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_3
		
	# ок
	option = {
		name = ftm_market.313.ok
	}
}





# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
country_event = {
	id = ftm_market.314
	title = "ftm_market.314.title"
	desc = "ftm_market.314.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.314.ok
	}
}





# 15 - сообщение покупателю что запрос на покупку отправлен
country_event = {
	id = ftm_market.315
	title = "ftm_market.315.title"
	desc = "ftm_market.315.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.315.ok
	}
}





# 16 - сообщение продавцу что его флот хотят купить
country_event = {
	id = ftm_market.316
	title = "ftm_market.316.title"
	desc = "ftm_market.316.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# да
	option = {
		name = ftm_market.316.yes
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] accept request."
			event_target:ftm_market_slot_3_requester = { 
				save_global_event_target_as = ftm_market_slot_3_buyer
				
				# передача флота и денег
				event_target:ftm_marketed_fleet_slot_3 = { 
					set_fleet_flag = ftm_marketed_fleet_slot_3
					set_owner = event_target:ftm_market_slot_3_buyer
					set_event_locked = no
				}
				
				country_event = { id = ftm_market.311 }
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					country_event = { id = ftm_market.312 }
				}
				remove_global_flag = ftm_market_slot_3_selected
			}
		}
	}
	# нет
	option = {
		name = ftm_market.316.no
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] reject request."
			event_target:ftm_market_slot_3_requester = {
				country_event = { id = ftm_market.317 }
			
				# возврат ресурсов 	
		
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_3_lot_back_cost
						value = ftm_marketed_fleet_slot_3_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_back_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = 10000 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_back_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_back_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = 1000 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_back_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_back_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = 100 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_back_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_back_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = 10 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_back_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_back_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = 1 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_back_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}
			}
		}
	}
}





# 17 - сообщение что нам отказались продавать флот
country_event = {
	id = ftm_market.317
	title = "ftm_market.317.title"
	desc = "ftm_market.317.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.317.ok
	}
}





# 20 - сообщение-предупреждение при снятии флота с продажи
country_event = {
	id = ftm_market.320
	title = "ftm_market.320.title"
	desc = "ftm_market.320.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# снять с продажи 
	option = {
		trigger = { # ВАЖНО - УСЛОВИЕ ПРОВЕРКИ ЧТО ИГРОК И ЕСТЬ ПРОДАВЕЦ - ДЛЯ ЗАЩИТЫ ОТ БАГОЮЗЕРОВ
			is_same_value = event_target:ftm_marketed_fleet_slot_3_seller
		}
		name = ftm_market.320.yes
		hidden_effect = {
			if = {
				limit = {
					event_target:ftm_marketed_fleet_slot_3 = { 
						exists = owner
						owner = { 
							is_same_value = event_target:ftm_market_country
						}
					}
				}
				log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] снимает флот с продажи."
				event_target:ftm_marketed_fleet_slot_3 = { 
					set_owner = event_target:ftm_marketed_fleet_slot_3_seller
					set_event_locked = no
				}
				remove_global_flag = ftm_market_slot_3_selected
			}
		}
	}
		
	# оставить флот на продаже
	option = {
		name = ftm_market.320.no
	}
}





# 70 - ежемесячная проверка наличия флота на продаже
event = {
	id = ftm_market.370
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_3_selected
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_flag = ftm_market_slot_3_selected
			}
			every_country = {
				limit = {
					NOT = {
						is_same_value = event_target:ftm_marketed_fleet_slot_3_seller
					}
					NOT = {
						has_country_flag = ftm_ai_buy_block_time
					}
					NOT = {
						event_target:ftm_marketed_fleet_slot_3_seller = {
							OR = {
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
					is_ai = yes
					is_country_type = default
					used_naval_capacity_percent < 0.8
					has_monthly_income = { resource = energy value >= 10 }
					has_monthly_income = { resource = alloys value >= 5 }
					has_communications = event_target:ftm_marketed_fleet_slot_3_seller
				}
				random_list = {
					10 = {
						country_event = { id = ftm_market.371 days = 1 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 4 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 7 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 10 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 13 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 16 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 19 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 22 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 25 }
					}
					10 = {
						country_event = { id = ftm_market.371 days = 28 }
					}
				}
			}
		}
	}
}


# 71 - проверка наличия энергокредитов
country_event = {
	id = ftm_market.371
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_3_selected
		NOT = {
			has_country_flag = ftm_ai_buy_block_time
		}
	}
	
	immediate = {
		log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
		event_target:ftm_marketed_fleet_slot_3_seller = { 
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count
				value = 0
			}
		}
		set_variable = {
			which = ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count
			value = 0
		}
		save_event_target_as = ftm_marketed_fleet_slot_3_checker
		export_resource_stockpile_to_variable = { resource = energy variable = ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count }
		event_target:ftm_marketed_fleet_slot_3_seller = {
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count
				value = event_target:ftm_marketed_fleet_slot_3_checker.ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count
			}
		}
		log = "[Root.GetName]: ЗАВЕРШЕНА ПРОВЕРКА ЭНЕРГИИ ДЛЯ ВХОДА НА РЫНОК. КОЛИЧЕСТВО: [event_target:ftm_marketed_fleet_slot_3_seller.ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count]."
		
		# проверка наличия энергии для входа на рынок
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count
						value >= ftm_marketed_fleet_slot_3_cost
					}
				}
			}
			log = "[Root.GetName]: средств для входа на рынок достаточно."
			country_event = { id = ftm_market.372 }
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_3_energy_ai_current_count
						value < ftm_marketed_fleet_slot_3_cost
					}
				}
			}
			log = "[Root.GetName]: не хватает средств для входа на рынок."
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 40 }
		}
	}
}


# 72 - проверка необходимости покупки
country_event = {
	id = ftm_market.372
	hide_window = yes	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					AND = { # нормальные условия
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 2500
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 4700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 30 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 8600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 19700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 35800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 64300
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 200 }
								has_monthly_income = { resource = alloys value >= 100 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 142900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 300 }
								has_monthly_income = { resource = alloys value >= 150 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 250000
									}
								}
							}
						}
					}
					AND = { # угроза - сильный сосед
						OR = {
							AND = {
								is_at_war = no
								any_neighbor_country = {
									#has_communications = root
									is_country_type = default
									OR = {
										is_homicidal = yes
										AND = {
											is_rival = root
											relative_power = {
												who = root
												category = fleet
												value >= equivalent
											}
										}
									}
								}
							}
							AND = {
								has_global_flag = gray_goo_crisis_active
								NOT = {
									has_global_flag = graygoo_defeated
								}
							}
							AND = {
								has_global_flag = marauder_crisis_started
								NOT = {
									has_global_flag = great_khan_dead
								}
							}
							has_global_flag = war_in_heaven_ongoing
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 3750
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 7050
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 12900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 29550
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 53700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 96450
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 214350
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 375000
									}
								}
							}
						}
					}
					AND = { # кризис - война с сильным противником
						OR = {
							AND = {
								is_at_war = yes
								any_war = {
									any_war_participant = {
										is_at_war_with = root
										relative_power = {
											who = root
											category = fleet
											value >= equivalent
										}
									}
								}
							}
							has_global_flag = crisis_stage_1
							has_global_flag = crisis_stage_2
							has_global_flag = crisis_stage_3
							has_global_flag = crisis_stage_4
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 10 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 5000
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 7 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 9400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 17200
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 39400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 35 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 71600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 128600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 35 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 285800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_3 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_3_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value <= 500000
									}
								}
							}
						}
					}
				}
			} # конец проверки
			
			log = "[Root.GetName]: сделал покупку флота."
			save_global_event_target_as = ftm_market_slot_3_buyer
			
			# передача флота и денег
			event_target:ftm_marketed_fleet_slot_3 = { 
				set_owner = event_target:ftm_market_slot_3_buyer
				set_event_locked = no
			}
			event_target:ftm_market_slot_3_buyer = { 
				set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
				set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 450 }
			
				# снятие ресурсов при покупке			
		
				event_target:ftm_marketed_fleet_slot_3_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_3_lot_cost
						value = ftm_marketed_fleet_slot_3_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = -10000 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = -1000 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = -100 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = -10 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_3_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_3_lot_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = -1 }
						event_target:ftm_marketed_fleet_slot_3_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_3_lot_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}	
			}
			event_target:ftm_marketed_fleet_slot_3_seller = { 
				country_event = { id = ftm_market.312 }
			}
			remove_global_flag = ftm_market_slot_3_selected	
		}
		else = {
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 300 }
		}
	}
}



# 80 - ежегодная проверка условий продажи для ии
event = {
	id = ftm_market.380
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_3_selected
				has_global_flag = ftm_market_slot_3_in_progress	
			}
		}
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		NOT = {
			OR = {
				has_global_flag = crisis_stage_1
				has_global_flag = crisis_stage_2
				has_global_flag = crisis_stage_3
				has_global_flag = crisis_stage_4
				AND = {
					has_global_flag = gray_goo_crisis_active
					NOT = {
						has_global_flag = graygoo_defeated
					}
				}
				AND = {
					has_global_flag = marauder_crisis_started
					NOT = {
						has_global_flag = great_khan_dead
					}
				}
				has_global_flag = war_in_heaven_ongoing
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						has_global_flag = ftm_market_slot_3_selected
						has_global_flag = ftm_market_slot_3_in_progress	
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						has_country_flag = ftm_ai_sell_block_time
					}
					is_homicidal = no
					is_ai = yes
					is_country_type = default
					is_at_war = no
					used_naval_capacity_percent > 0.8
					resource_stockpile_compare = { resource = energy value < 50000 }
					NOT = {
						any_neighbor_country = {
							is_country_type = default
							OR = {
								is_homicidal = yes
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
				}
				set_variable = {
					which = ftm_market_slot_3_num_fleet_count
					value = 0
				}
				every_owned_fleet = {
					limit = {
						fleet_power > 2000
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
					}
					owner = {
						change_variable = {
							which = ftm_market_slot_3_num_fleet_count
							value = 1
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_market_slot_3_num_fleet_count
							value > 2
						}
					}
					random_list = {
						10 = {
							country_event = { id = ftm_market.381 days = 8 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 38 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 68 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 98 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 128 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 158 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 188 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 218 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 248 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 278 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 308 }
						}
						10 = {
							country_event = { id = ftm_market.381 days = 338 }
						}
					}
				}
			}
		}
	}
}


# 81 - выставление флота на продажу (ИИ)
country_event = {
	id = ftm_market.381
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_3_selected
				has_global_flag = ftm_market_slot_3_in_progress	
				has_country_flag = ftm_ai_sell_block_time
			}
		}
	}
	
	immediate = {
		save_global_event_target_as = ftm_marketed_fleet_slot_3_seller
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
						OR = {
							AND = {
								fleet_power > 2000
								years_passed >= 20
								years_passed < 50
							}
							AND = {
								fleet_power > 5000
								years_passed >= 50
								years_passed < 100
							}
							AND = {
								fleet_power > 10000
								years_passed >= 100
								years_passed < 150
							}
							AND = {
								fleet_power > 20000
								years_passed >= 150
								years_passed < 200
							}
							AND = {
								fleet_power > 30000
								years_passed >= 200
							}
							AND = {
								fleet_power > 10000
								mid_game_years_passed > 0
							}
							AND = {
								fleet_power > 30000
								end_game_years_passed > 0
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
					OR = {
						AND = {
							fleet_power > 2000
							years_passed >= 20
							years_passed < 50
						}
						AND = {
							fleet_power > 5000
							years_passed >= 50
							years_passed < 100
						}
						AND = {
							fleet_power > 10000
							years_passed >= 100
							years_passed < 150
						}
						AND = {
							fleet_power > 20000
							years_passed >= 150
							years_passed < 200
						}
						AND = {
							fleet_power > 30000
							years_passed >= 200
						}
						AND = {
							fleet_power > 10000
							mid_game_years_passed > 0
						}
						AND = {
							fleet_power > 30000
							end_game_years_passed > 0
						}
					}
				}
				save_global_event_target_as = ftm_marketed_fleet_slot_3
				log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_3.GetFleetName])"
				event_target:ftm_marketed_fleet_slot_3_seller = {
					set_variable = {
						which = ftm_marketed_fleet_slot_3_cost
						value = 0
					}
				}
				if = {
					limit = {
						fleet_power < 3000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 1500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 3000
						fleet_power < 5000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 2500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 5000
						fleet_power < 7500
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 3800
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 7500
						fleet_power < 10000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 5000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 10000
						fleet_power < 15000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 7500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 15000
						fleet_power < 20000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 10000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 20000
						fleet_power < 30000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 15000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 30000
						fleet_power < 40000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 20000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 40000
						fleet_power < 50000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 24000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 50000
						fleet_power < 65000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 31000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 65000
						fleet_power < 80000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 38000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 80000
						fleet_power < 100000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 47000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 100000
						fleet_power < 125000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 57000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 125000
						fleet_power < 150000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 67000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 150000
						fleet_power < 180000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 78000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 180000
						fleet_power < 220000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 100000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 220000
						fleet_power < 260000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 110000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 260000
						fleet_power < 300000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 120000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 300000
						fleet_power < 360000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 140000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 360000
						fleet_power < 430000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 160000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 430000
						fleet_power < 500000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 170000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 500000
						fleet_power < 600000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 190000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 600000
						fleet_power < 750000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 210000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 750000
						fleet_power < 1000000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 220000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 1000000
					}
					event_target:ftm_marketed_fleet_slot_3_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_3_cost
							value = 23000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_3_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_3_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				event_target:ftm_marketed_fleet_slot_3_seller = {
					log = "[Root.GetName]: ценность флота [event_target:ftm_marketed_fleet_slot_3.GetFleetName] равна [Root.ftm_marketed_fleet_slot_3_cost]"
					multiply_variable = {
						which = ftm_marketed_fleet_slot_3_cost
						value = @ftm_cost_mult_energy
					}
					log = "[Root.GetName]: ценна флота [event_target:ftm_marketed_fleet_slot_3.GetFleetName] в энергокредитах равна [Root.ftm_marketed_fleet_slot_3_cost]"
					round_variable_to_closest = {
						which = ftm_marketed_fleet_slot_3_cost
						value = 1
					}
					log = "[Root.GetName]: окончательная цена флота [event_target:ftm_marketed_fleet_slot_3.GetFleetName] равна [Root.ftm_marketed_fleet_slot_3_cost]"
				}
			}
			set_global_flag = ftm_market_slot_3_selected
			country_event = { id = ftm_market.304 }
			event_target:ftm_marketed_fleet_slot_3 = { 
				if = {
					limit = {
						exists = leader
					}
					leader = {
						unassign_leader = this
					}
				}
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.399 }
			}
			set_variable = {
				which = ftm_market_slot_3_time_in_months
				value = 60
			}
			set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 900 }
		}
	}
}







# 99 - сообщение-уведомление
fleet_event = {
	id = ftm_market.399
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = { 
				AND = {
					is_country_type = default 
					has_communications = event_target:ftm_marketed_fleet_slot_3_seller
					is_homicidal = no
				}
			}
			create_message = {
				type = FTM_MESSAGE
				localization = FTM_MARKET_SLOT_3_NOTIFICATION
				days = 30
				target = event_target:ftm_marketed_fleet_slot_3
				variable = {
					type = name
					localization = COUNTRY
					scope = event_target:ftm_marketed_fleet_slot_3_seller
				}
				variable = {
					type = name
					localization = FLEET
					scope = event_target:ftm_marketed_fleet_slot_3
				}
			}
		}
	}		
}









###############################################
###                                         ###
###      #### #      ###  #####             ###
###     #     #     #   #   #               ###
###      ###  #     #   #   #               ###
###         # #     #   #   #               ###
###     ####  #####  ###    #               ###
###                                         ###
###############################################


# 1 - окно выбора флота для рынка
country_event = {
	id = ftm_market.401
	title = "ftm_market.401.title"
	desc = "ftm_market.401.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_4_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_4_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_4_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_4_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_4_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_4_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_4_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_4_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_4_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_4_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_4_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_4_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_4_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_4_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_4_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_4_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_4_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_4_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_4_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_4_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_4_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_4_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_4_03
								is_same_value = event_target:ftm_marketed_fleet_slot_4_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_4_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_4_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_4_03
							is_same_value = event_target:ftm_marketed_fleet_slot_4_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_4_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_4_05_buyer
					}
				}
			}
		}
		save_global_event_target_as = ftm_marketed_fleet_slot_4_seller
		log = "[Root.GetName] запустил рынок флота"
		set_variable = {
			which = ftm_marketed_fleet_slot_4_cost_manual
			value = 100
		}
	}
		
	# выбор флота 1
	option = {
		name = ftm_market.401.fleet_01
		custom_tooltip = ftm_market.401.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_4_01 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_4_01.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_4_01 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_4
			}
			country_event = { id = ftm_market.402 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_market.401.fleet_02
		custom_tooltip = ftm_market.401.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_4_02
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_4_02.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_4_02 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_4
			}
			country_event = { id = ftm_market.402 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_market.401.fleet_03
		custom_tooltip = ftm_market.401.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_4_03
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_4_03.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_4_03 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_4
			}
			country_event = { id = ftm_market.402 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_market.401.fleet_04
		custom_tooltip = ftm_market.401.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_4_04
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_4_04.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_4_04 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_4
			}
			country_event = { id = ftm_market.402 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_market.401.fleet_05
		custom_tooltip = ftm_market.401.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_4_05 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_4_05.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_4_05 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_4
			}
			country_event = { id = ftm_market.402 }
		}
	}
		
	# передумал
	option = {
		name = ftm_market.401.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот"
			remove_global_flag = ftm_market_slot_4_in_progress	
		}
	}
	
}





# 2 - ручная настройка стартовой цены рынка
country_event = {
	id = ftm_market.402
	title = "ftm_market.402.title"
	desc = "ftm_market.402.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_market.402.minus10000
		custom_tooltip = ftm_market.402.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value = -10000
			}
			country_event = { id = ftm_market.402 }
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_4_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_market.402.minus1000
		custom_tooltip = ftm_market.402.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value = -1000
			}
			country_event = { id = ftm_market.402 }
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_4_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_market.402.minus100
		custom_tooltip = ftm_market.402.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value = -100
			}
			country_event = { id = ftm_market.402 }
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_4_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_market.402.plus100
		custom_tooltip = ftm_market.402.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value = 100
			}
			country_event = { id = ftm_market.402 }
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_4_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_market.402.plus1000
		custom_tooltip = ftm_market.402.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value = 1000
			}
			country_event = { id = ftm_market.402 }
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_4_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_market.402.plus10000
		custom_tooltip = ftm_market.402.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_4_cost_manual
				value = 10000
			}
			country_event = { id = ftm_market.402 }
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_4_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_market.402.done
		custom_tooltip = ftm_market.402.done.tooltip
		hidden_effect = {
			# счетчик текущей цены
			set_variable = {
				which = ftm_marketed_fleet_slot_4_cost
				value = ftm_marketed_fleet_slot_4_cost_manual
			}
			country_event = { id = ftm_market.403 }
			log = "[Root.GetName] выставляет флот [event_target:ftm_marketed_fleet_slot_4.GetFleetName] на рынок за стартовую цену: [Root.ftm_marketed_fleet_slot_4_cost]. Нужно подтверждение"
		}
	}
	
	
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_market.403
	title = "ftm_market.403.title"
	desc = "ftm_market.403.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_4
		
	# подтвердить
	option = {
		name = ftm_market.403.confirm
		custom_tooltip = ftm_market.403.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_marketed_fleet_slot_4.GetFleetName] через рынок"
			country_event = { id = ftm_market.404 }
			remove_global_flag = ftm_market_slot_4_in_progress
			set_global_flag = ftm_market_slot_4_selected
			event_target:ftm_marketed_fleet_slot_4 = { 
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.499 }
			}
			set_variable = {
				which = ftm_market_slot_4_time_in_months
				value = 60
			}
		}
	}
		
	# отказаться
	option = {
		name = ftm_market.403.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал выставлять флот [event_target:ftm_marketed_fleet_slot_4.GetFleetName] на рынок"
			remove_global_flag = ftm_market_slot_4_in_progress	
		}
	}
	
}





# 4 - выставление на продажу
country_event = {
	id = ftm_market.404
	hide_window = yes	
	is_triggered_only = yes

	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_marketed_fleet_slot_4_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_marketed_fleet_slot_4_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_marketed_fleet_slot_4_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_marketed_fleet_slot_4_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_marketed_fleet_slot_4_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_marketed_fleet_slot_4_titan_count # всего
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_4 
				}
			}	
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_4_corvette_count # всего
					value = 1
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_4 
				}
			}
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_4_destroyer_count # всего
					value = 1
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_4 
				}
			}
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_4_cruiser_count # всего
					value = 1
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_4 
				}
				
			}
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_4_battleship_count # всего
					value = 1
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_4 
				}
			}
			event_target:ftm_marketed_fleet_slot_4_seller = {
				change_variable = {
					which = ftm_marketed_fleet_slot_4_titan_count # всего
					value = 1
				}
			}
		}
	}
}





# 5 - сообщение при недостатке энергии для покупки
country_event = {
	id = ftm_market.405
	title = "ftm_market.405.title"
	desc = "ftm_market.405.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_4
		
	# ок
	option = {
		name = ftm_market.405.ok
	}
}

# 9 - обратный отсчет счетчика времени слота
event = {
	id = ftm_market.409
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_4_selected
	}
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					check_variable = {
						which = ftm_market_slot_4_time_in_months
						value >= 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				change_variable = {
					which = ftm_market_slot_4_time_in_months
					value = -1
				}
			}
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					check_variable = {
						which = ftm_market_slot_4_time_in_months
						value < 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_4 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_4_seller
				set_event_locked = no
			}
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				country_event = { id = ftm_market.413 }
			}
			remove_global_flag = ftm_market_slot_4_selected
		}
	}
}





# 10 - сообщение с информацией о флоте
country_event = {
	id = ftm_market.410
	title = "ftm_market.410.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.410.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.410.desc_mod"
	}
	picture = GFX_evt_fleet_neutral 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_4
		
	# ок
	option = {
		name = ftm_market.410.ok
	}
}





# 11 - сообщение с информацией о покупке
country_event = {
	id = ftm_market.411
	title = "ftm_market.411.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.411.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.411.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_4
		
	# ок
	option = {
		name = ftm_market.411.ok
	}
}





# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
country_event = {
	id = ftm_market.412
	title = "ftm_market.412.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.412.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.412.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_4
		
	# ок
	option = {
		name = ftm_market.412.ok
		custom_tooltip = ftm_market.412.ok.tooltip
		hidden_effect = {

			# присвоение денег продавцу
				
			event_target:ftm_marketed_fleet_slot_4_seller = { 							
				set_variable = {
					which = ftm_marketed_fleet_slot_4_final_cost
					value = ftm_marketed_fleet_slot_4_cost
				}
			}
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName]: победила цена в [event_target:ftm_marketed_fleet_slot_4_seller.ftm_marketed_fleet_slot_4_cost] энергии. Присвоение денег..."
			while = {
				count = 99
				if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_4_final_cost
								value >= 10000
							}
						}
					}
					add_resource = { energy = 10000 }
					event_target:ftm_marketed_fleet_slot_4_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_4_final_cost
							value = -10000
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_4_final_cost
								value >= 1000
							}
						}
					}
					add_resource = { energy = 1000 }
					event_target:ftm_marketed_fleet_slot_4_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_4_final_cost
							value = -1000
						}		
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_4_final_cost
								value >= 100
							}
						}
					}
					add_resource = { energy = 100 }
					event_target:ftm_marketed_fleet_slot_4_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_4_final_cost
							value = -100
						}
					}					
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_4_final_cost
								value >= 10
							}
						}
					}
					add_resource = { energy = 10 }
					event_target:ftm_marketed_fleet_slot_4_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_4_final_cost
							value = -10
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_4_final_cost
								value >= 1
							}
						}
					}
					add_resource = { energy = 1 }
					event_target:ftm_marketed_fleet_slot_4_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_4_final_cost
							value = -1
						}					
					}
				}
				else = {
					#nothing
				}
			}	
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName]: Присвоение денег завершено"	
		
		}
	}
}





# 13 - сообщение что продать флот не удалось
country_event = {
	id = ftm_market.413
	title = "ftm_market.413.title"
	desc = "ftm_market.413.desc"
	picture = GFX_evt_hangar_bay 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_4
		
	# ок
	option = {
		name = ftm_market.413.ok
	}
}





# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
country_event = {
	id = ftm_market.414
	title = "ftm_market.414.title"
	desc = "ftm_market.414.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.414.ok
	}
}





# 15 - сообщение покупателю что запрос на покупку отправлен
country_event = {
	id = ftm_market.415
	title = "ftm_market.415.title"
	desc = "ftm_market.415.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.415.ok
	}
}





# 16 - сообщение продавцу что его флот хотят купить
country_event = {
	id = ftm_market.416
	title = "ftm_market.416.title"
	desc = "ftm_market.416.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# да
	option = {
		name = ftm_market.416.yes
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] accept request."
			event_target:ftm_market_slot_4_requester = { 
				save_global_event_target_as = ftm_market_slot_4_buyer
				
				# передача флота и денег
				event_target:ftm_marketed_fleet_slot_4 = { 
					set_fleet_flag = ftm_marketed_fleet_slot_4
					set_owner = event_target:ftm_market_slot_4_buyer
					set_event_locked = no
				}
				
				country_event = { id = ftm_market.411 }
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					country_event = { id = ftm_market.412 }
				}
				remove_global_flag = ftm_market_slot_4_selected
			}
		}
	}
	# нет
	option = {
		name = ftm_market.416.no
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] reject request."
			event_target:ftm_market_slot_4_requester = {
				country_event = { id = ftm_market.417 }
			
				# возврат ресурсов 	
		
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_4_lot_back_cost
						value = ftm_marketed_fleet_slot_4_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_back_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = 10000 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_back_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_back_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = 1000 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_back_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_back_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = 100 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_back_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_back_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = 10 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_back_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_back_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = 1 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_back_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}
			}
		}
	}
}





# 17 - сообщение что нам отказались продавать флот
country_event = {
	id = ftm_market.417
	title = "ftm_market.417.title"
	desc = "ftm_market.417.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.417.ok
	}
}





# 20 - сообщение-предупреждение при снятии флота с продажи
country_event = {
	id = ftm_market.420
	title = "ftm_market.420.title"
	desc = "ftm_market.420.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# снять с продажи 
	option = {
		trigger = { # ВАЖНО - УСЛОВИЕ ПРОВЕРКИ ЧТО ИГРОК И ЕСТЬ ПРОДАВЕЦ - ДЛЯ ЗАЩИТЫ ОТ БАГОЮЗЕРОВ
			is_same_value = event_target:ftm_marketed_fleet_slot_4_seller
		}
		name = ftm_market.420.yes
		hidden_effect = {
			if = {
				limit = {
					event_target:ftm_marketed_fleet_slot_4 = { 
						exists = owner
						owner = { 
							is_same_value = event_target:ftm_market_country
						}
					}
				}
				log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] снимает флот с продажи."
				event_target:ftm_marketed_fleet_slot_4 = { 
					set_owner = event_target:ftm_marketed_fleet_slot_4_seller
					set_event_locked = no
				}
				remove_global_flag = ftm_market_slot_4_selected
			}
		}
	}
		
	# оставить флот на продаже
	option = {
		name = ftm_market.420.no
	}
}





# 70 - ежемесячная проверка наличия флота на продаже
event = {
	id = ftm_market.470
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_4_selected
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_flag = ftm_market_slot_4_selected
			}
			every_country = {
				limit = {
					NOT = {
						is_same_value = event_target:ftm_marketed_fleet_slot_4_seller
					}
					NOT = {
						has_country_flag = ftm_ai_buy_block_time
					}
					NOT = {
						event_target:ftm_marketed_fleet_slot_4_seller = {
							OR = {
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
					is_ai = yes
					is_country_type = default
					used_naval_capacity_percent < 0.8
					has_monthly_income = { resource = energy value >= 10 }
					has_monthly_income = { resource = alloys value >= 5 }
					has_communications = event_target:ftm_marketed_fleet_slot_4_seller
				}
				random_list = {
					10 = {
						country_event = { id = ftm_market.471 days = 1 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 4 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 7 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 10 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 13 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 16 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 19 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 22 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 25 }
					}
					10 = {
						country_event = { id = ftm_market.471 days = 28 }
					}
				}
			}
		}
	}
}


# 71 - проверка наличия энергокредитов
country_event = {
	id = ftm_market.471
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_4_selected
		NOT = {
			has_country_flag = ftm_ai_buy_block_time
		}
	}
	
	immediate = {
		log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
		event_target:ftm_marketed_fleet_slot_4_seller = { 
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count
				value = 0
			}
		}
		set_variable = {
			which = ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count
			value = 0
		}
		save_event_target_as = ftm_marketed_fleet_slot_4_checker
		export_resource_stockpile_to_variable = { resource = energy variable = ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count }
		event_target:ftm_marketed_fleet_slot_4_seller = {
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count
				value = event_target:ftm_marketed_fleet_slot_4_checker.ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count
			}
		}
		log = "[Root.GetName]: ЗАВЕРШЕНА ПРОВЕРКА ЭНЕРГИИ ДЛЯ ВХОДА НА РЫНОК. КОЛИЧЕСТВО: [event_target:ftm_marketed_fleet_slot_4_seller.ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count]."
		
		# проверка наличия энергии для входа на рынок
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count
						value >= ftm_marketed_fleet_slot_4_cost
					}
				}
			}
			log = "[Root.GetName]: средств для входа на рынок достаточно."
			country_event = { id = ftm_market.472 }
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_4_energy_ai_current_count
						value < ftm_marketed_fleet_slot_4_cost
					}
				}
			}
			log = "[Root.GetName]: не хватает средств для входа на рынок."
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 40 }
		}
	}
}


# 72 - проверка необходимости покупки
country_event = {
	id = ftm_market.472
	hide_window = yes	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					AND = { # нормальные условия
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 2500
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 4700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 30 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 8600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 19700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 35800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 64300
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 200 }
								has_monthly_income = { resource = alloys value >= 100 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 142900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 300 }
								has_monthly_income = { resource = alloys value >= 150 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 250000
									}
								}
							}
						}
					}
					AND = { # угроза - сильный сосед
						OR = {
							AND = {
								is_at_war = no
								any_neighbor_country = {
									#has_communications = root
									is_country_type = default
									OR = {
										is_homicidal = yes
										AND = {
											is_rival = root
											relative_power = {
												who = root
												category = fleet
												value >= equivalent
											}
										}
									}
								}
							}
							AND = {
								has_global_flag = gray_goo_crisis_active
								NOT = {
									has_global_flag = graygoo_defeated
								}
							}
							AND = {
								has_global_flag = marauder_crisis_started
								NOT = {
									has_global_flag = great_khan_dead
								}
							}
							has_global_flag = war_in_heaven_ongoing
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 3750
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 7050
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 12900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 29550
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 53700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 96450
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 214350
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 375000
									}
								}
							}
						}
					}
					AND = { # кризис - война с сильным противником
						OR = {
							AND = {
								is_at_war = yes
								any_war = {
									any_war_participant = {
										is_at_war_with = root
										relative_power = {
											who = root
											category = fleet
											value >= equivalent
										}
									}
								}
							}
							has_global_flag = crisis_stage_1
							has_global_flag = crisis_stage_2
							has_global_flag = crisis_stage_3
							has_global_flag = crisis_stage_4
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 10 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 5000
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 7 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 9400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 17200
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 39400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 35 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 71600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 128600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 35 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 285800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_4 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_4_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value <= 500000
									}
								}
							}
						}
					}
				}
			} # конец проверки
			
			log = "[Root.GetName]: сделал покупку флота."
			save_global_event_target_as = ftm_market_slot_4_buyer
			
			# передача флота и денег
			event_target:ftm_marketed_fleet_slot_4 = { 
				set_owner = event_target:ftm_market_slot_4_buyer
				set_event_locked = no
			}
			event_target:ftm_market_slot_4_buyer = { 
				set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
				set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 450 }
			
				# снятие ресурсов при покупке			
		
				event_target:ftm_marketed_fleet_slot_4_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_4_lot_cost
						value = ftm_marketed_fleet_slot_4_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = -10000 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = -1000 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = -100 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = -10 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_4_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_4_lot_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = -1 }
						event_target:ftm_marketed_fleet_slot_4_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_4_lot_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}	
			}
			event_target:ftm_marketed_fleet_slot_4_seller = { 
				country_event = { id = ftm_market.412 }
			}
			remove_global_flag = ftm_market_slot_4_selected	
		}
		else = {
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 300 }
		}
	}
}



# 80 - ежегодная проверка условий продажи для ии
event = {
	id = ftm_market.480
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_4_selected
				has_global_flag = ftm_market_slot_4_in_progress	
			}
		}
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		NOT = {
			OR = {
				has_global_flag = crisis_stage_1
				has_global_flag = crisis_stage_2
				has_global_flag = crisis_stage_3
				has_global_flag = crisis_stage_4
				AND = {
					has_global_flag = gray_goo_crisis_active
					NOT = {
						has_global_flag = graygoo_defeated
					}
				}
				AND = {
					has_global_flag = marauder_crisis_started
					NOT = {
						has_global_flag = great_khan_dead
					}
				}
				has_global_flag = war_in_heaven_ongoing
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						has_global_flag = ftm_market_slot_4_selected
						has_global_flag = ftm_market_slot_4_in_progress	
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						has_country_flag = ftm_ai_sell_block_time
					}
					is_homicidal = no
					is_ai = yes
					is_country_type = default
					is_at_war = no
					used_naval_capacity_percent > 0.8
					resource_stockpile_compare = { resource = energy value < 50000 }
					NOT = {
						any_neighbor_country = {
							is_country_type = default
							OR = {
								is_homicidal = yes
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
				}
				set_variable = {
					which = ftm_market_slot_4_num_fleet_count
					value = 0
				}
				every_owned_fleet = {
					limit = {
						fleet_power > 2000
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
					}
					owner = {
						change_variable = {
							which = ftm_market_slot_4_num_fleet_count
							value = 1
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_market_slot_4_num_fleet_count
							value > 2
						}
					}
					random_list = {
						10 = {
							country_event = { id = ftm_market.481 days = 8 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 38 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 68 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 98 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 128 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 158 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 188 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 218 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 248 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 278 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 308 }
						}
						10 = {
							country_event = { id = ftm_market.481 days = 338 }
						}
					}
				}
			}
		}
	}
}


# 81 - выставление флота на продажу (ИИ)
country_event = {
	id = ftm_market.481
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_4_selected
				has_global_flag = ftm_market_slot_4_in_progress	
				has_country_flag = ftm_ai_sell_block_time
			}
		}
	}
	
	immediate = {
		save_global_event_target_as = ftm_marketed_fleet_slot_4_seller
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
						OR = {
							AND = {
								fleet_power > 2000
								years_passed >= 20
								years_passed < 50
							}
							AND = {
								fleet_power > 5000
								years_passed >= 50
								years_passed < 100
							}
							AND = {
								fleet_power > 10000
								years_passed >= 100
								years_passed < 150
							}
							AND = {
								fleet_power > 20000
								years_passed >= 150
								years_passed < 200
							}
							AND = {
								fleet_power > 30000
								years_passed >= 200
							}
							AND = {
								fleet_power > 10000
								mid_game_years_passed > 0
							}
							AND = {
								fleet_power > 30000
								end_game_years_passed > 0
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
					OR = {
						AND = {
							fleet_power > 2000
							years_passed >= 20
							years_passed < 50
						}
						AND = {
							fleet_power > 5000
							years_passed >= 50
							years_passed < 100
						}
						AND = {
							fleet_power > 10000
							years_passed >= 100
							years_passed < 150
						}
						AND = {
							fleet_power > 20000
							years_passed >= 150
							years_passed < 200
						}
						AND = {
							fleet_power > 30000
							years_passed >= 200
						}
						AND = {
							fleet_power > 10000
							mid_game_years_passed > 0
						}
						AND = {
							fleet_power > 30000
							end_game_years_passed > 0
						}
					}
				}
				save_global_event_target_as = ftm_marketed_fleet_slot_4
				log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_4.GetFleetName])"
				event_target:ftm_marketed_fleet_slot_4_seller = {
					set_variable = {
						which = ftm_marketed_fleet_slot_4_cost
						value = 0
					}
				}
				if = {
					limit = {
						fleet_power < 3000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 1500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 3000
						fleet_power < 5000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 2500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 5000
						fleet_power < 7500
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 3800
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 7500
						fleet_power < 10000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 5000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 10000
						fleet_power < 15000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 7500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 15000
						fleet_power < 20000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 10000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 20000
						fleet_power < 30000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 15000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 30000
						fleet_power < 40000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 20000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 40000
						fleet_power < 50000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 24000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 50000
						fleet_power < 65000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 31000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 65000
						fleet_power < 80000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 38000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 80000
						fleet_power < 100000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 47000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 100000
						fleet_power < 125000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 57000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 125000
						fleet_power < 150000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 67000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 150000
						fleet_power < 180000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 78000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 180000
						fleet_power < 220000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 100000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 220000
						fleet_power < 260000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 110000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 260000
						fleet_power < 300000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 120000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 300000
						fleet_power < 360000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 140000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 360000
						fleet_power < 430000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 160000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 430000
						fleet_power < 500000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 170000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 500000
						fleet_power < 600000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 190000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 600000
						fleet_power < 750000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 210000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 750000
						fleet_power < 1000000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 220000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 1000000
					}
					event_target:ftm_marketed_fleet_slot_4_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_4_cost
							value = 23000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_4_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_4_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				event_target:ftm_marketed_fleet_slot_4_seller = {
					log = "[Root.GetName]: ценность флота [event_target:ftm_marketed_fleet_slot_4.GetFleetName] равна [Root.ftm_marketed_fleet_slot_4_cost]"
					multiply_variable = {
						which = ftm_marketed_fleet_slot_4_cost
						value = @ftm_cost_mult_energy
					}
					log = "[Root.GetName]: ценна флота [event_target:ftm_marketed_fleet_slot_4.GetFleetName] в энергокредитах равна [Root.ftm_marketed_fleet_slot_4_cost]"
					round_variable_to_closest = {
						which = ftm_marketed_fleet_slot_4_cost
						value = 1
					}
					log = "[Root.GetName]: окончательная цена флота [event_target:ftm_marketed_fleet_slot_4.GetFleetName] равна [Root.ftm_marketed_fleet_slot_4_cost]"
				}
			}
			set_global_flag = ftm_market_slot_4_selected
			country_event = { id = ftm_market.404 }
			event_target:ftm_marketed_fleet_slot_4 = { 
				if = {
					limit = {
						exists = leader
					}
					leader = {
						unassign_leader = this
					}
				}
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.499 }
			}
			set_variable = {
				which = ftm_market_slot_4_time_in_months
				value = 60
			}
			set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 900 }
		}
	}
}






# 99 - сообщение-уведомление
fleet_event = {
	id = ftm_market.499
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = { 
				AND = {
					is_country_type = default 
					has_communications = event_target:ftm_marketed_fleet_slot_4_seller
					is_homicidal = no
				}
			}
			create_message = {
				type = FTM_MESSAGE
				localization = FTM_MARKET_SLOT_4_NOTIFICATION
				days = 30
				target = event_target:ftm_marketed_fleet_slot_4
				variable = {
					type = name
					localization = COUNTRY
					scope = event_target:ftm_marketed_fleet_slot_4_seller
				}
				variable = {
					type = name
					localization = FLEET
					scope = event_target:ftm_marketed_fleet_slot_4
				}
			}
		}
	}		
}









###############################################
###                                         ###
###      #### #      ###  #####             ###
###     #     #     #   #   #               ###
###      ###  #     #   #   #               ###
###         # #     #   #   #               ###
###     ####  #####  ###    #               ###
###                                         ###
###############################################


# 1 - окно выбора флота для рынка
country_event = {
	id = ftm_market.501
	title = "ftm_market.501.title"
	desc = "ftm_market.501.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_5_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_5_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_5_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_5_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_5_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_5_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_5_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_5_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_5_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_5_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_5_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_5_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_5_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_5_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_5_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_5_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_5_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_5_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_5_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_5_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_5_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_5_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_5_03
								is_same_value = event_target:ftm_marketed_fleet_slot_5_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_5_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_5_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_5_03
							is_same_value = event_target:ftm_marketed_fleet_slot_5_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_5_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_5_05_buyer
					}
				}
			}
		}
		save_global_event_target_as = ftm_marketed_fleet_slot_5_seller
		log = "[Root.GetName] запустил рынок флота"
		set_variable = {
			which = ftm_marketed_fleet_slot_5_cost_manual
			value = 100
		}
	}
		
	# выбор флота 1
	option = {
		name = ftm_market.501.fleet_01
		custom_tooltip = ftm_market.501.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_5_01 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_5_01.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_5_01 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_5
			}
			country_event = { id = ftm_market.502 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_market.501.fleet_02
		custom_tooltip = ftm_market.501.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_5_02
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_5_02.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_5_02 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_5
			}
			country_event = { id = ftm_market.502 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_market.501.fleet_03
		custom_tooltip = ftm_market.501.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_5_03
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_5_03.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_5_03 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_5
			}
			country_event = { id = ftm_market.502 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_market.501.fleet_04
		custom_tooltip = ftm_market.501.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_5_04
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_5_04.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_5_04 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_5
			}
			country_event = { id = ftm_market.502 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_market.501.fleet_05
		custom_tooltip = ftm_market.501.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_5_05 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_5_05.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_5_05 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_5
			}
			country_event = { id = ftm_market.502 }
		}
	}
		
	# передумал
	option = {
		name = ftm_market.501.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот"
			remove_global_flag = ftm_market_slot_5_in_progress	
		}
	}
	
}





# 2 - ручная настройка стартовой цены рынка
country_event = {
	id = ftm_market.502
	title = "ftm_market.502.title"
	desc = "ftm_market.502.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_market.502.minus10000
		custom_tooltip = ftm_market.502.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value = -10000
			}
			country_event = { id = ftm_market.502 }
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_5_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_market.502.minus1000
		custom_tooltip = ftm_market.502.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value = -1000
			}
			country_event = { id = ftm_market.502 }
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_5_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_market.502.minus100
		custom_tooltip = ftm_market.502.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value = -100
			}
			country_event = { id = ftm_market.502 }
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_5_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_market.502.plus100
		custom_tooltip = ftm_market.502.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value = 100
			}
			country_event = { id = ftm_market.502 }
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_5_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_market.502.plus1000
		custom_tooltip = ftm_market.502.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value = 1000
			}
			country_event = { id = ftm_market.502 }
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_5_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_market.502.plus10000
		custom_tooltip = ftm_market.502.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_5_cost_manual
				value = 10000
			}
			country_event = { id = ftm_market.502 }
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_5_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_market.502.done
		custom_tooltip = ftm_market.502.done.tooltip
		hidden_effect = {
			# счетчик текущей цены
			set_variable = {
				which = ftm_marketed_fleet_slot_5_cost
				value = ftm_marketed_fleet_slot_5_cost_manual
			}
			country_event = { id = ftm_market.503 }
			log = "[Root.GetName] выставляет флот [event_target:ftm_marketed_fleet_slot_5.GetFleetName] на рынок за стартовую цену: [Root.ftm_marketed_fleet_slot_5_cost]. Нужно подтверждение"
		}
	}
	
	
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_market.503
	title = "ftm_market.503.title"
	desc = "ftm_market.503.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_5
		
	# подтвердить
	option = {
		name = ftm_market.503.confirm
		custom_tooltip = ftm_market.503.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_marketed_fleet_slot_5.GetFleetName] через рынок"
			country_event = { id = ftm_market.504 }
			remove_global_flag = ftm_market_slot_5_in_progress
			set_global_flag = ftm_market_slot_5_selected
			event_target:ftm_marketed_fleet_slot_5 = { 
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.599 }
			}
			set_variable = {
				which = ftm_market_slot_5_time_in_months
				value = 60
			}
		}
	}
		
	# отказаться
	option = {
		name = ftm_market.503.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал выставлять флот [event_target:ftm_marketed_fleet_slot_5.GetFleetName] на рынок"
			remove_global_flag = ftm_market_slot_5_in_progress	
		}
	}
	
}





# 4 - выставление на продажу
country_event = {
	id = ftm_market.504
	hide_window = yes	
	is_triggered_only = yes

	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_marketed_fleet_slot_5_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_marketed_fleet_slot_5_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_marketed_fleet_slot_5_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_marketed_fleet_slot_5_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_marketed_fleet_slot_5_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_marketed_fleet_slot_5_titan_count # всего
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_5 
				}
			}	
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_5_corvette_count # всего
					value = 1
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_5 
				}
			}
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_5_destroyer_count # всего
					value = 1
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_5 
				}
			}
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_5_cruiser_count # всего
					value = 1
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_5 
				}
				
			}
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_5_battleship_count # всего
					value = 1
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_5 
				}
			}
			event_target:ftm_marketed_fleet_slot_5_seller = {
				change_variable = {
					which = ftm_marketed_fleet_slot_5_titan_count # всего
					value = 1
				}
			}
		}
	}
}





# 5 - сообщение при недостатке энергии для покупки
country_event = {
	id = ftm_market.505
	title = "ftm_market.505.title"
	desc = "ftm_market.505.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_5
		
	# ок
	option = {
		name = ftm_market.505.ok
	}
}

# 9 - обратный отсчет счетчика времени слота
event = {
	id = ftm_market.509
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_5_selected
	}
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					check_variable = {
						which = ftm_market_slot_5_time_in_months
						value >= 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				change_variable = {
					which = ftm_market_slot_5_time_in_months
					value = -1
				}
			}
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					check_variable = {
						which = ftm_market_slot_5_time_in_months
						value < 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_5 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_5_seller
				set_event_locked = no
			}
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				country_event = { id = ftm_market.513 }
			}
			remove_global_flag = ftm_market_slot_5_selected
		}
	}
}





# 10 - сообщение с информацией о флоте
country_event = {
	id = ftm_market.510
	title = "ftm_market.510.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.510.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.510.desc_mod"
	}
	picture = GFX_evt_fleet_neutral 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_5
		
	# ок
	option = {
		name = ftm_market.510.ok
	}
}





# 11 - сообщение с информацией о покупке
country_event = {
	id = ftm_market.511
	title = "ftm_market.511.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.511.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.511.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_5
		
	# ок
	option = {
		name = ftm_market.511.ok
	}
}





# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
country_event = {
	id = ftm_market.512
	title = "ftm_market.512.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.512.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.512.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_5
		
	# ок
	option = {
		name = ftm_market.512.ok
		custom_tooltip = ftm_market.512.ok.tooltip
		hidden_effect = {

			# присвоение денег продавцу
				
			event_target:ftm_marketed_fleet_slot_5_seller = { 							
				set_variable = {
					which = ftm_marketed_fleet_slot_5_final_cost
					value = ftm_marketed_fleet_slot_5_cost
				}
			}
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName]: победила цена в [event_target:ftm_marketed_fleet_slot_5_seller.ftm_marketed_fleet_slot_5_cost] энергии. Присвоение денег..."
			while = {
				count = 99
				if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_5_final_cost
								value >= 10000
							}
						}
					}
					add_resource = { energy = 10000 }
					event_target:ftm_marketed_fleet_slot_5_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_5_final_cost
							value = -10000
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_5_final_cost
								value >= 1000
							}
						}
					}
					add_resource = { energy = 1000 }
					event_target:ftm_marketed_fleet_slot_5_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_5_final_cost
							value = -1000
						}		
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_5_final_cost
								value >= 100
							}
						}
					}
					add_resource = { energy = 100 }
					event_target:ftm_marketed_fleet_slot_5_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_5_final_cost
							value = -100
						}
					}					
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_5_final_cost
								value >= 10
							}
						}
					}
					add_resource = { energy = 10 }
					event_target:ftm_marketed_fleet_slot_5_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_5_final_cost
							value = -10
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_5_final_cost
								value >= 1
							}
						}
					}
					add_resource = { energy = 1 }
					event_target:ftm_marketed_fleet_slot_5_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_5_final_cost
							value = -1
						}					
					}
				}
				else = {
					#nothing
				}
			}	
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName]: Присвоение денег завершено"	
		
		}
	}
}





# 13 - сообщение что продать флот не удалось
country_event = {
	id = ftm_market.513
	title = "ftm_market.513.title"
	desc = "ftm_market.513.desc"
	picture = GFX_evt_hangar_bay 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_5
		
	# ок
	option = {
		name = ftm_market.513.ok
	}
}





# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
country_event = {
	id = ftm_market.514
	title = "ftm_market.514.title"
	desc = "ftm_market.514.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.514.ok
	}
}





# 15 - сообщение покупателю что запрос на покупку отправлен
country_event = {
	id = ftm_market.515
	title = "ftm_market.515.title"
	desc = "ftm_market.515.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.515.ok
	}
}





# 16 - сообщение продавцу что его флот хотят купить
country_event = {
	id = ftm_market.516
	title = "ftm_market.516.title"
	desc = "ftm_market.516.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# да
	option = {
		name = ftm_market.516.yes
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] accept request."
			event_target:ftm_market_slot_5_requester = { 
				save_global_event_target_as = ftm_market_slot_5_buyer
				
				# передача флота и денег
				event_target:ftm_marketed_fleet_slot_5 = { 
					set_fleet_flag = ftm_marketed_fleet_slot_5
					set_owner = event_target:ftm_market_slot_5_buyer
					set_event_locked = no
				}
				
				country_event = { id = ftm_market.511 }
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					country_event = { id = ftm_market.512 }
				}
				remove_global_flag = ftm_market_slot_5_selected
			}
		}
	}
	# нет
	option = {
		name = ftm_market.516.no
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] reject request."
			event_target:ftm_market_slot_5_requester = {
				country_event = { id = ftm_market.517 }
			
				# возврат ресурсов 	
		
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_5_lot_back_cost
						value = ftm_marketed_fleet_slot_5_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_back_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = 10000 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_back_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_back_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = 1000 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_back_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_back_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = 100 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_back_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_back_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = 10 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_back_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_back_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = 1 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_back_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}
			}
		}
	}
}





# 17 - сообщение что нам отказались продавать флот
country_event = {
	id = ftm_market.517
	title = "ftm_market.517.title"
	desc = "ftm_market.517.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.517.ok
	}
}





# 20 - сообщение-предупреждение при снятии флота с продажи
country_event = {
	id = ftm_market.520
	title = "ftm_market.520.title"
	desc = "ftm_market.520.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# снять с продажи 
	option = {
		trigger = { # ВАЖНО - УСЛОВИЕ ПРОВЕРКИ ЧТО ИГРОК И ЕСТЬ ПРОДАВЕЦ - ДЛЯ ЗАЩИТЫ ОТ БАГОЮЗЕРОВ
			is_same_value = event_target:ftm_marketed_fleet_slot_5_seller
		}
		name = ftm_market.520.yes
		hidden_effect = {
			if = {
				limit = {
					event_target:ftm_marketed_fleet_slot_5 = { 
						exists = owner
						owner = { 
							is_same_value = event_target:ftm_market_country
						}
					}
				}
				log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] снимает флот с продажи."
				event_target:ftm_marketed_fleet_slot_5 = { 
					set_owner = event_target:ftm_marketed_fleet_slot_5_seller
					set_event_locked = no
				}
				remove_global_flag = ftm_market_slot_5_selected
			}
		}
	}
		
	# оставить флот на продаже
	option = {
		name = ftm_market.520.no
	}
}





# 70 - ежемесячная проверка наличия флота на продаже
event = {
	id = ftm_market.570
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_5_selected
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_flag = ftm_market_slot_5_selected
			}
			every_country = {
				limit = {
					NOT = {
						is_same_value = event_target:ftm_marketed_fleet_slot_5_seller
					}
					NOT = {
						has_country_flag = ftm_ai_buy_block_time
					}
					NOT = {
						event_target:ftm_marketed_fleet_slot_5_seller = {
							OR = {
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
					is_ai = yes
					is_country_type = default
					used_naval_capacity_percent < 0.8
					has_monthly_income = { resource = energy value >= 10 }
					has_monthly_income = { resource = alloys value >= 5 }
					has_communications = event_target:ftm_marketed_fleet_slot_5_seller
				}
				random_list = {
					10 = {
						country_event = { id = ftm_market.571 days = 1 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 4 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 7 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 10 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 13 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 16 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 19 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 22 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 25 }
					}
					10 = {
						country_event = { id = ftm_market.571 days = 28 }
					}
				}
			}
		}
	}
}


# 71 - проверка наличия энергокредитов
country_event = {
	id = ftm_market.571
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_5_selected
		NOT = {
			has_country_flag = ftm_ai_buy_block_time
		}
	}
	
	immediate = {
		log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
		event_target:ftm_marketed_fleet_slot_5_seller = { 
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count
				value = 0
			}
		}
		set_variable = {
			which = ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count
			value = 0
		}
		save_event_target_as = ftm_marketed_fleet_slot_5_checker
		export_resource_stockpile_to_variable = { resource = energy variable = ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count }
		event_target:ftm_marketed_fleet_slot_5_seller = {
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count
				value = event_target:ftm_marketed_fleet_slot_5_checker.ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count
			}
		}
		log = "[Root.GetName]: ЗАВЕРШЕНА ПРОВЕРКА ЭНЕРГИИ ДЛЯ ВХОДА НА РЫНОК. КОЛИЧЕСТВО: [event_target:ftm_marketed_fleet_slot_5_seller.ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count]."
		
		# проверка наличия энергии для входа на рынок
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count
						value >= ftm_marketed_fleet_slot_5_cost
					}
				}
			}
			log = "[Root.GetName]: средств для входа на рынок достаточно."
			country_event = { id = ftm_market.572 }
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_5_energy_ai_current_count
						value < ftm_marketed_fleet_slot_5_cost
					}
				}
			}
			log = "[Root.GetName]: не хватает средств для входа на рынок."
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 40 }
		}
	}
}


# 72 - проверка необходимости покупки
country_event = {
	id = ftm_market.572
	hide_window = yes	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					AND = { # нормальные условия
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 2500
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 4700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 30 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 8600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 19700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 35800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 64300
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 200 }
								has_monthly_income = { resource = alloys value >= 100 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 142900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 300 }
								has_monthly_income = { resource = alloys value >= 150 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 250000
									}
								}
							}
						}
					}
					AND = { # угроза - сильный сосед
						OR = {
							AND = {
								is_at_war = no
								any_neighbor_country = {
									#has_communications = root
									is_country_type = default
									OR = {
										is_homicidal = yes
										AND = {
											is_rival = root
											relative_power = {
												who = root
												category = fleet
												value >= equivalent
											}
										}
									}
								}
							}
							AND = {
								has_global_flag = gray_goo_crisis_active
								NOT = {
									has_global_flag = graygoo_defeated
								}
							}
							AND = {
								has_global_flag = marauder_crisis_started
								NOT = {
									has_global_flag = great_khan_dead
								}
							}
							has_global_flag = war_in_heaven_ongoing
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 3750
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 7050
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 12900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 29550
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 53700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 96450
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 214350
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 375000
									}
								}
							}
						}
					}
					AND = { # кризис - война с сильным противником
						OR = {
							AND = {
								is_at_war = yes
								any_war = {
									any_war_participant = {
										is_at_war_with = root
										relative_power = {
											who = root
											category = fleet
											value >= equivalent
										}
									}
								}
							}
							has_global_flag = crisis_stage_1
							has_global_flag = crisis_stage_2
							has_global_flag = crisis_stage_3
							has_global_flag = crisis_stage_4
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 10 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 5000
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 7 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 9400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 17200
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 39400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 35 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 71600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 128600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 35 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 285800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_5 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_5_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value <= 500000
									}
								}
							}
						}
					}
				}
			} # конец проверки
			
			log = "[Root.GetName]: сделал покупку флота."
			save_global_event_target_as = ftm_market_slot_5_buyer
			
			# передача флота и денег
			event_target:ftm_marketed_fleet_slot_5 = { 
				set_owner = event_target:ftm_market_slot_5_buyer
				set_event_locked = no
			}
			event_target:ftm_market_slot_5_buyer = {
				set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
				set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 450 } 
			
				# снятие ресурсов при покупке			
		
				event_target:ftm_marketed_fleet_slot_5_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_5_lot_cost
						value = ftm_marketed_fleet_slot_5_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = -10000 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = -1000 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = -100 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = -10 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_5_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_5_lot_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = -1 }
						event_target:ftm_marketed_fleet_slot_5_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_5_lot_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}	
			}
			event_target:ftm_marketed_fleet_slot_5_seller = { 
				country_event = { id = ftm_market.512 }
			}
			remove_global_flag = ftm_market_slot_5_selected	
		}
		else = {
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 300 }
		}
	}
}



# 80 - ежегодная проверка условий продажи для ии
event = {
	id = ftm_market.580
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_5_selected
				has_global_flag = ftm_market_slot_5_in_progress	
			}
		}
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		NOT = {
			OR = {
				has_global_flag = crisis_stage_1
				has_global_flag = crisis_stage_2
				has_global_flag = crisis_stage_3
				has_global_flag = crisis_stage_4
				AND = {
					has_global_flag = gray_goo_crisis_active
					NOT = {
						has_global_flag = graygoo_defeated
					}
				}
				AND = {
					has_global_flag = marauder_crisis_started
					NOT = {
						has_global_flag = great_khan_dead
					}
				}
				has_global_flag = war_in_heaven_ongoing
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						has_global_flag = ftm_market_slot_5_selected
						has_global_flag = ftm_market_slot_5_in_progress	
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						has_country_flag = ftm_ai_sell_block_time
					}
					is_homicidal = no
					is_ai = yes
					is_country_type = default
					is_at_war = no
					used_naval_capacity_percent > 0.8
					resource_stockpile_compare = { resource = energy value < 50000 }
					NOT = {
						any_neighbor_country = {
							is_country_type = default
							OR = {
								is_homicidal = yes
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
				}
				set_variable = {
					which = ftm_market_slot_5_num_fleet_count
					value = 0
				}
				every_owned_fleet = {
					limit = {
						fleet_power > 2000
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
					}
					owner = {
						change_variable = {
							which = ftm_market_slot_5_num_fleet_count
							value = 1
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_market_slot_5_num_fleet_count
							value > 2
						}
					}
					random_list = {
						10 = {
							country_event = { id = ftm_market.581 days = 8 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 38 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 68 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 98 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 128 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 158 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 188 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 218 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 248 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 278 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 308 }
						}
						10 = {
							country_event = { id = ftm_market.581 days = 338 }
						}
					}
				}
			}
		}
	}
}


# 81 - выставление флота на продажу (ИИ)
country_event = {
	id = ftm_market.581
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_5_selected
				has_global_flag = ftm_market_slot_5_in_progress	
				has_country_flag = ftm_ai_sell_block_time
			}
		}
	}
	
	immediate = {
		save_global_event_target_as = ftm_marketed_fleet_slot_5_seller
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
						OR = {
							AND = {
								fleet_power > 2000
								years_passed >= 20
								years_passed < 50
							}
							AND = {
								fleet_power > 5000
								years_passed >= 50
								years_passed < 100
							}
							AND = {
								fleet_power > 10000
								years_passed >= 100
								years_passed < 150
							}
							AND = {
								fleet_power > 20000
								years_passed >= 150
								years_passed < 200
							}
							AND = {
								fleet_power > 30000
								years_passed >= 200
							}
							AND = {
								fleet_power > 10000
								mid_game_years_passed > 0
							}
							AND = {
								fleet_power > 30000
								end_game_years_passed > 0
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
					OR = {
						AND = {
							fleet_power > 2000
							years_passed >= 20
							years_passed < 50
						}
						AND = {
							fleet_power > 5000
							years_passed >= 50
							years_passed < 100
						}
						AND = {
							fleet_power > 10000
							years_passed >= 100
							years_passed < 150
						}
						AND = {
							fleet_power > 20000
							years_passed >= 150
							years_passed < 200
						}
						AND = {
							fleet_power > 30000
							years_passed >= 200
						}
						AND = {
							fleet_power > 10000
							mid_game_years_passed > 0
						}
						AND = {
							fleet_power > 30000
							end_game_years_passed > 0
						}
					}
				}
				save_global_event_target_as = ftm_marketed_fleet_slot_5
				log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_5.GetFleetName])"
				event_target:ftm_marketed_fleet_slot_5_seller = {
					set_variable = {
						which = ftm_marketed_fleet_slot_5_cost
						value = 0
					}
				}
				if = {
					limit = {
						fleet_power < 3000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 1500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 3000
						fleet_power < 5000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 2500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 5000
						fleet_power < 7500
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 3800
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 7500
						fleet_power < 10000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 5000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 10000
						fleet_power < 15000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 7500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 15000
						fleet_power < 20000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 10000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 20000
						fleet_power < 30000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 15000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 30000
						fleet_power < 40000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 20000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 40000
						fleet_power < 50000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 24000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 50000
						fleet_power < 65000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 31000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 65000
						fleet_power < 80000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 38000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 80000
						fleet_power < 100000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 47000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 100000
						fleet_power < 125000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 57000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 125000
						fleet_power < 150000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 67000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 150000
						fleet_power < 180000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 78000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 180000
						fleet_power < 220000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 100000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 220000
						fleet_power < 260000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 110000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 260000
						fleet_power < 300000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 120000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 300000
						fleet_power < 360000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 140000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 360000
						fleet_power < 430000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 160000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 430000
						fleet_power < 500000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 170000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 500000
						fleet_power < 600000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 190000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 600000
						fleet_power < 750000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 210000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 750000
						fleet_power < 1000000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 220000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 1000000
					}
					event_target:ftm_marketed_fleet_slot_5_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_5_cost
							value = 23000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_5_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_5_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				event_target:ftm_marketed_fleet_slot_5_seller = {
					log = "[Root.GetName]: ценность флота [event_target:ftm_marketed_fleet_slot_5.GetFleetName] равна [Root.ftm_marketed_fleet_slot_5_cost]"
					multiply_variable = {
						which = ftm_marketed_fleet_slot_5_cost
						value = @ftm_cost_mult_energy
					}
					log = "[Root.GetName]: ценна флота [event_target:ftm_marketed_fleet_slot_5.GetFleetName] в энергокредитах равна [Root.ftm_marketed_fleet_slot_5_cost]"
					round_variable_to_closest = {
						which = ftm_marketed_fleet_slot_5_cost
						value = 1
					}
					log = "[Root.GetName]: окончательная цена флота [event_target:ftm_marketed_fleet_slot_5.GetFleetName] равна [Root.ftm_marketed_fleet_slot_5_cost]"
				}
			}
			set_global_flag = ftm_market_slot_5_selected
			country_event = { id = ftm_market.504 }
			event_target:ftm_marketed_fleet_slot_5 = { 
				if = {
					limit = {
						exists = leader
					}
					leader = {
						unassign_leader = this
					}
				}
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.599 }
			}
			set_variable = {
				which = ftm_market_slot_5_time_in_months
				value = 60
			}
			set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 900 }
		}
	}
}






# 99 - сообщение-уведомление
fleet_event = {
	id = ftm_market.599
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = { 
				AND = {
					is_country_type = default 
					has_communications = event_target:ftm_marketed_fleet_slot_5_seller
					is_homicidal = no
				}
			}
			create_message = {
				type = FTM_MESSAGE
				localization = FTM_MARKET_SLOT_5_NOTIFICATION
				days = 30
				target = event_target:ftm_marketed_fleet_slot_5
				variable = {
					type = name
					localization = COUNTRY
					scope = event_target:ftm_marketed_fleet_slot_5_seller
				}
				variable = {
					type = name
					localization = FLEET
					scope = event_target:ftm_marketed_fleet_slot_5
				}
			}
		}
	}		
}









###############################################
###                                         ###
###      #### #      ###  #####             ###
###     #     #     #   #   #               ###
###      ###  #     #   #   #               ###
###         # #     #   #   #               ###
###     ####  #####  ###    #               ###
###                                         ###
###############################################


# 1 - окно выбора флота для рынка
country_event = {
	id = ftm_market.601
	title = "ftm_market.601.title"
	desc = "ftm_market.601.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_6_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_6_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_6_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_6_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_6_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_6_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_6_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_6_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_6_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_6_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_6_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_6_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_6_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_6_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_6_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_6_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_6_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_6_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_6_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_6_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_marketed_fleet_slot_6_01 
								is_same_value = event_target:ftm_marketed_fleet_slot_6_02 
								is_same_value = event_target:ftm_marketed_fleet_slot_6_03
								is_same_value = event_target:ftm_marketed_fleet_slot_6_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_marketed_fleet_slot_6_01 
							is_same_value = event_target:ftm_marketed_fleet_slot_6_02 
							is_same_value = event_target:ftm_marketed_fleet_slot_6_03
							is_same_value = event_target:ftm_marketed_fleet_slot_6_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
						}
					}
				}
				save_event_target_as = ftm_marketed_fleet_slot_6_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_marketed_fleet_slot_6_05_buyer
					}
				}
			}
		}
		save_global_event_target_as = ftm_marketed_fleet_slot_6_seller
		log = "[Root.GetName] запустил рынок флота"
		set_variable = {
			which = ftm_marketed_fleet_slot_6_cost_manual
			value = 100
		}
	}
		
	# выбор флота 1
	option = {
		name = ftm_market.601.fleet_01
		custom_tooltip = ftm_market.601.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_6_01 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 1 ([event_target:ftm_marketed_fleet_slot_6_01.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_6_01 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_6
			}
			country_event = { id = ftm_market.602 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_market.601.fleet_02
		custom_tooltip = ftm_market.601.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_6_02
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 2 ([event_target:ftm_marketed_fleet_slot_6_02.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_6_02 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_6
			}
			country_event = { id = ftm_market.602 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_market.601.fleet_03
		custom_tooltip = ftm_market.601.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_6_03
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 3 ([event_target:ftm_marketed_fleet_slot_6_03.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_6_03 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_6
			}
			country_event = { id = ftm_market.602 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_market.601.fleet_04
		custom_tooltip = ftm_market.601.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_6_04
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 4 ([event_target:ftm_marketed_fleet_slot_6_04.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_6_04 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_6
			}
			country_event = { id = ftm_market.602 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_market.601.fleet_05
		custom_tooltip = ftm_market.601.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_marketed_fleet_slot_6_05 
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для рынка флот 5 ([event_target:ftm_marketed_fleet_slot_6_05.GetFleetName])"
			event_target:ftm_marketed_fleet_slot_6_05 = { 
				save_global_event_target_as = ftm_marketed_fleet_slot_6
			}
			country_event = { id = ftm_market.602 }
		}
	}
		
	# передумал
	option = {
		name = ftm_market.601.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот"
			remove_global_flag = ftm_market_slot_6_in_progress	
		}
	}
	
}





# 2 - ручная настройка стартовой цены рынка
country_event = {
	id = ftm_market.602
	title = "ftm_market.602.title"
	desc = "ftm_market.602.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_market.602.minus10000
		custom_tooltip = ftm_market.602.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value = -10000
			}
			country_event = { id = ftm_market.602 }
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_6_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_market.602.minus1000
		custom_tooltip = ftm_market.602.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value = -1000
			}
			country_event = { id = ftm_market.602 }
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_6_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_market.602.minus100
		custom_tooltip = ftm_market.602.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value = -100
			}
			country_event = { id = ftm_market.602 }
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_6_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_market.602.plus100
		custom_tooltip = ftm_market.602.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value = 100
			}
			country_event = { id = ftm_market.602 }
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_6_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_market.602.plus1000
		custom_tooltip = ftm_market.602.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value = 1000
			}
			country_event = { id = ftm_market.602 }
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_6_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_market.602.plus10000
		custom_tooltip = ftm_market.602.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_marketed_fleet_slot_6_cost_manual
				value = 10000
			}
			country_event = { id = ftm_market.602 }
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_marketed_fleet_slot_6_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_market.602.done
		custom_tooltip = ftm_market.602.done.tooltip
		hidden_effect = {
			# счетчик текущей цены
			set_variable = {
				which = ftm_marketed_fleet_slot_6_cost
				value = ftm_marketed_fleet_slot_6_cost_manual
			}
			country_event = { id = ftm_market.603 }
			log = "[Root.GetName] выставляет флот [event_target:ftm_marketed_fleet_slot_6.GetFleetName] на рынок за стартовую цену: [Root.ftm_marketed_fleet_slot_6_cost]. Нужно подтверждение"
		}
	}
	
	
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_market.603
	title = "ftm_market.603.title"
	desc = "ftm_market.603.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_6
		
	# подтвердить
	option = {
		name = ftm_market.603.confirm
		custom_tooltip = ftm_market.603.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_marketed_fleet_slot_6.GetFleetName] через рынок"
			country_event = { id = ftm_market.604 }
			remove_global_flag = ftm_market_slot_6_in_progress
			set_global_flag = ftm_market_slot_6_selected
			event_target:ftm_marketed_fleet_slot_6 = { 
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.699 }
			}
			set_variable = {
				which = ftm_market_slot_6_time_in_months
				value = 60
			}
		}
	}
		
	# отказаться
	option = {
		name = ftm_market.603.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал выставлять флот [event_target:ftm_marketed_fleet_slot_6.GetFleetName] на рынок"
			remove_global_flag = ftm_market_slot_6_in_progress	
		}
	}
	
}





# 4 - выставление на продажу
country_event = {
	id = ftm_market.604
	hide_window = yes	
	is_triggered_only = yes

	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_marketed_fleet_slot_6_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_marketed_fleet_slot_6_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_marketed_fleet_slot_6_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_marketed_fleet_slot_6_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_marketed_fleet_slot_6_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_marketed_fleet_slot_6_titan_count # всего
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_6 
				}
			}	
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_6_corvette_count # всего
					value = 1
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_6 
				}
			}
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_6_destroyer_count # всего
					value = 1
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_6 
				}
			}
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_6_cruiser_count # всего
					value = 1
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_6 
				}
				
			}
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				change_variable = {
					which = ftm_marketed_fleet_slot_6_battleship_count # всего
					value = 1
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_marketed_fleet_slot_6 
				}
			}
			event_target:ftm_marketed_fleet_slot_6_seller = {
				change_variable = {
					which = ftm_marketed_fleet_slot_6_titan_count # всего
					value = 1
				}
			}
		}
	}
}





# 5 - сообщение при недостатке энергии для покупки
country_event = {
	id = ftm_market.605
	title = "ftm_market.605.title"
	desc = "ftm_market.605.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_6
		
	# ок
	option = {
		name = ftm_market.605.ok
	}
}

# 9 - обратный отсчет счетчика времени слота
event = {
	id = ftm_market.609
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_6_selected
	}
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					check_variable = {
						which = ftm_market_slot_6_time_in_months
						value >= 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				change_variable = {
					which = ftm_market_slot_6_time_in_months
					value = -1
				}
			}
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					check_variable = {
						which = ftm_market_slot_6_time_in_months
						value < 1
					}
				}
			}
			event_target:ftm_marketed_fleet_slot_6 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_6_seller
				set_event_locked = no
			}
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				country_event = { id = ftm_market.613 }
			}
			remove_global_flag = ftm_market_slot_6_selected
		}
	}
}





# 10 - сообщение с информацией о флоте
country_event = {
	id = ftm_market.610
	title = "ftm_market.610.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.610.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.610.desc_mod"
	}
	picture = GFX_evt_fleet_neutral 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_6
		
	# ок
	option = {
		name = ftm_market.610.ok
	}
}





# 11 - сообщение с информацией о покупке
country_event = {
	id = ftm_market.611
	title = "ftm_market.611.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.611.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.611.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_6
		
	# ок
	option = {
		name = ftm_market.611.ok
	}
}





# 12 - сообщение с информацией об успешной продаже флота (+ начисление денег продавцу)
country_event = {
	id = ftm_market.612
	title = "ftm_market.612.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		text = "ftm_market.612.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_market.612.desc_mod"
	}
	picture = GFX_evt_signing 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_6
		
	# ок
	option = {
		name = ftm_market.612.ok
		custom_tooltip = ftm_market.612.ok.tooltip
		hidden_effect = {

			# присвоение денег продавцу
				
			event_target:ftm_marketed_fleet_slot_6_seller = { 							
				set_variable = {
					which = ftm_marketed_fleet_slot_6_final_cost
					value = ftm_marketed_fleet_slot_6_cost
				}
			}
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName]: победила цена в [event_target:ftm_marketed_fleet_slot_6_seller.ftm_marketed_fleet_slot_6_cost] энергии. Присвоение денег..."
			while = {
				count = 99
				if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_6_final_cost
								value >= 10000
							}
						}
					}
					add_resource = { energy = 10000 }
					event_target:ftm_marketed_fleet_slot_6_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_6_final_cost
							value = -10000
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_6_final_cost
								value >= 1000
							}
						}
					}
					add_resource = { energy = 1000 }
					event_target:ftm_marketed_fleet_slot_6_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_6_final_cost
							value = -1000
						}		
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_6_final_cost
								value >= 100
							}
						}
					}
					add_resource = { energy = 100 }
					event_target:ftm_marketed_fleet_slot_6_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_6_final_cost
							value = -100
						}
					}					
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_6_final_cost
								value >= 10
							}
						}
					}
					add_resource = { energy = 10 }
					event_target:ftm_marketed_fleet_slot_6_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_6_final_cost
							value = -10
						}
					}
				}
				else_if = {
					limit = {
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							check_variable = {
								which = ftm_marketed_fleet_slot_6_final_cost
								value >= 1
							}
						}
					}
					add_resource = { energy = 1 }
					event_target:ftm_marketed_fleet_slot_6_seller = { 
						change_variable = {
							which = ftm_marketed_fleet_slot_6_final_cost
							value = -1
						}					
					}
				}
				else = {
					#nothing
				}
			}	
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName]: Присвоение денег завершено"	
		
		}
	}
}





# 13 - сообщение что продать флот не удалось
country_event = {
	id = ftm_market.613
	title = "ftm_market.613.title"
	desc = "ftm_market.613.desc"
	picture = GFX_evt_hangar_bay 
	is_triggered_only = yes
	location = event_target:ftm_marketed_fleet_slot_6
		
	# ок
	option = {
		name = ftm_market.613.ok
	}
}





# 14 - сообщение что нам отказались продавать флот из-за плохих отношений (продавец - ИИ)
country_event = {
	id = ftm_market.614
	title = "ftm_market.614.title"
	desc = "ftm_market.614.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.614.ok
	}
}





# 15 - сообщение покупателю что запрос на покупку отправлен
country_event = {
	id = ftm_market.615
	title = "ftm_market.615.title"
	desc = "ftm_market.615.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.615.ok
	}
}





# 16 - сообщение продавцу что его флот хотят купить
country_event = {
	id = ftm_market.616
	title = "ftm_market.616.title"
	desc = "ftm_market.616.desc"
	picture = GFX_evt_wormhole 
	is_triggered_only = yes
		
	# да
	option = {
		name = ftm_market.616.yes
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] accept request."
			event_target:ftm_market_slot_6_requester = { 
				save_global_event_target_as = ftm_market_slot_6_buyer
				
				# передача флота и денег
				event_target:ftm_marketed_fleet_slot_6 = { 
					set_fleet_flag = ftm_marketed_fleet_slot_6
					set_owner = event_target:ftm_market_slot_6_buyer
					set_event_locked = no
				}
				
				country_event = { id = ftm_market.611 }
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					country_event = { id = ftm_market.612 }
				}
				remove_global_flag = ftm_market_slot_6_selected
			}
		}
	}
	# нет
	option = {
		name = ftm_market.616.no
		hidden_effect = {
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] reject request."
			event_target:ftm_market_slot_6_requester = {
				country_event = { id = ftm_market.617 }
			
				# возврат ресурсов 	
		
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_6_lot_back_cost
						value = ftm_marketed_fleet_slot_6_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_back_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = 10000 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_back_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_back_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = 1000 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_back_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_back_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = 100 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_back_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_back_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = 10 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_back_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_back_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = 1 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_back_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}
			}
		}
	}
}





# 17 - сообщение что нам отказались продавать флот
country_event = {
	id = ftm_market.617
	title = "ftm_market.617.title"
	desc = "ftm_market.617.desc"
	picture = GFX_evt_assembly_fight 
	is_triggered_only = yes
		
	# ок
	option = {
		name = ftm_market.617.ok
	}
}





# 20 - сообщение-предупреждение при снятии флота с продажи
country_event = {
	id = ftm_market.620
	title = "ftm_market.620.title"
	desc = "ftm_market.620.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# снять с продажи 
	option = {
		trigger = { # ВАЖНО - УСЛОВИЕ ПРОВЕРКИ ЧТО ИГРОК И ЕСТЬ ПРОДАВЕЦ - ДЛЯ ЗАЩИТЫ ОТ БАГОЮЗЕРОВ
			is_same_value = event_target:ftm_marketed_fleet_slot_6_seller
		}
		name = ftm_market.620.yes
		hidden_effect = {
			if = {
				limit = {
					event_target:ftm_marketed_fleet_slot_6 = { 
						exists = owner
						owner = { 
							is_same_value = event_target:ftm_market_country
						}
					}
				}
				log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] снимает флот с продажи."
				event_target:ftm_marketed_fleet_slot_6 = { 
					set_owner = event_target:ftm_marketed_fleet_slot_6_seller
					set_event_locked = no
				}
				remove_global_flag = ftm_market_slot_6_selected
			}
		}
	}
		
	# оставить флот на продаже
	option = {
		name = ftm_market.620.no
	}
}





# 70 - ежемесячная проверка наличия флота на продаже
event = {
	id = ftm_market.670
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_6_selected
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	immediate = {
		if = {
			limit = {
				has_global_flag = ftm_market_slot_6_selected
			}
			every_country = {
				limit = {
					NOT = {
						is_same_value = event_target:ftm_marketed_fleet_slot_6_seller
					}
					NOT = {
						has_country_flag = ftm_ai_buy_block_time
					}
					NOT = {
						event_target:ftm_marketed_fleet_slot_6_seller = {
							OR = {
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
					is_ai = yes
					is_country_type = default
					used_naval_capacity_percent < 0.8
					has_monthly_income = { resource = energy value >= 10 }
					has_monthly_income = { resource = alloys value >= 5 }
					has_communications = event_target:ftm_marketed_fleet_slot_6_seller
				}
				random_list = {
					10 = {
						country_event = { id = ftm_market.671 days = 1 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 4 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 7 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 10 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 13 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 16 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 19 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 22 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 25 }
					}
					10 = {
						country_event = { id = ftm_market.671 days = 28 }
					}
				}
			}
		}
	}
}


# 71 - проверка наличия энергокредитов
country_event = {
	id = ftm_market.671
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		has_global_flag = ftm_market_slot_6_selected
		NOT = {
			has_country_flag = ftm_ai_buy_block_time
		}
	}
	
	immediate = {
		log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
		event_target:ftm_marketed_fleet_slot_6_seller = { 
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count
				value = 0
			}
		}
		set_variable = {
			which = ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count
			value = 0
		}
		save_event_target_as = ftm_marketed_fleet_slot_6_checker
		export_resource_stockpile_to_variable = { resource = energy variable = ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count }
		event_target:ftm_marketed_fleet_slot_6_seller = {
			set_variable = {
				which = ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count
				value = event_target:ftm_marketed_fleet_slot_6_checker.ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count
			}
		}
		log = "[Root.GetName]: ЗАВЕРШЕНА ПРОВЕРКА ЭНЕРГИИ ДЛЯ ВХОДА НА РЫНОК. КОЛИЧЕСТВО: [event_target:ftm_marketed_fleet_slot_6_seller.ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count]."
		
		# проверка наличия энергии для входа на рынок
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count
						value >= ftm_marketed_fleet_slot_6_cost
					}
				}
			}
			log = "[Root.GetName]: средств для входа на рынок достаточно."
			country_event = { id = ftm_market.672 }
		}
		if = {
			limit = {
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					check_variable = {
						which = ftm_buyer_marketed_fleet_slot_6_energy_ai_current_count
						value < ftm_marketed_fleet_slot_6_cost
					}
				}
			}
			log = "[Root.GetName]: не хватает средств для входа на рынок."
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 40 }
		}
	}
}


# 72 - проверка необходимости покупки
country_event = {
	id = ftm_market.672
	hide_window = yes	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				OR = {
					AND = { # нормальные условия
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 2500
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 4700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 30 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 8600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 19700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 35800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 64300
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 200 }
								has_monthly_income = { resource = alloys value >= 100 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 142900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 300 }
								has_monthly_income = { resource = alloys value >= 150 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 250000
									}
								}
							}
						}
					}
					AND = { # угроза - сильный сосед
						OR = {
							AND = {
								is_at_war = no
								any_neighbor_country = {
									#has_communications = root
									is_country_type = default
									OR = {
										is_homicidal = yes
										AND = {
											is_rival = root
											relative_power = {
												who = root
												category = fleet
												value >= equivalent
											}
										}
									}
								}
							}
							AND = {
								has_global_flag = gray_goo_crisis_active
								NOT = {
									has_global_flag = graygoo_defeated
								}
							}
							AND = {
								has_global_flag = marauder_crisis_started
								NOT = {
									has_global_flag = great_khan_dead
								}
							}
							has_global_flag = war_in_heaven_ongoing
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 3750
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 7050
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 12900
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 40 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 29550
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 53700
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 40 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 96450
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 214350
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 150 }
								has_monthly_income = { resource = alloys value >= 75 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 375000
									}
								}
							}
						}
					}
					AND = { # кризис - война с сильным противником
						OR = {
							AND = {
								is_at_war = yes
								any_war = {
									any_war_participant = {
										is_at_war_with = root
										relative_power = {
											who = root
											category = fleet
											value >= equivalent
										}
									}
								}
							}
							has_global_flag = crisis_stage_1
							has_global_flag = crisis_stage_2
							has_global_flag = crisis_stage_3
							has_global_flag = crisis_stage_4
						}
						OR = {
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power < 2000
								}
								has_monthly_income = { resource = energy value >= 10 }
								has_monthly_income = { resource = alloys value >= 5 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 5000
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 2000
									fleet_power < 5000
								}
								has_monthly_income = { resource = energy value >= 15 }
								has_monthly_income = { resource = alloys value >= 7 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 9400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 5000
									fleet_power < 10000
								}
								has_monthly_income = { resource = energy value >= 20 }
								has_monthly_income = { resource = alloys value >= 10 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 17200
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 10000
									fleet_power < 25000
								}
								has_monthly_income = { resource = energy value >= 25 }
								has_monthly_income = { resource = alloys value >= 15 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 39400
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 25000
									fleet_power < 50000
								}
								has_monthly_income = { resource = energy value >= 35 }
								has_monthly_income = { resource = alloys value >= 20 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 71600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 50000
									fleet_power < 100000
								}
								has_monthly_income = { resource = energy value >= 50 }
								has_monthly_income = { resource = alloys value >= 25 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 128600
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 100000
									fleet_power < 250000
								}
								has_monthly_income = { resource = energy value >= 75 }
								has_monthly_income = { resource = alloys value >= 35 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 285800
									}
								}
							}
							AND = {
								event_target:ftm_marketed_fleet_slot_6 = {
									fleet_power >= 250000
								}
								has_monthly_income = { resource = energy value >= 100 }
								has_monthly_income = { resource = alloys value >= 50 }
								event_target:ftm_marketed_fleet_slot_6_seller = { 
									check_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value <= 500000
									}
								}
							}
						}
					}
				}
			} # конец проверки
			
			log = "[Root.GetName]: сделал покупку флота."
			save_global_event_target_as = ftm_market_slot_6_buyer
			
			# передача флота и денег
			event_target:ftm_marketed_fleet_slot_6 = { 
				set_owner = event_target:ftm_market_slot_6_buyer
				set_event_locked = no
			}
			event_target:ftm_market_slot_6_buyer = { 
				set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
				set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 450 }
			
				# снятие ресурсов при покупке			
		
				event_target:ftm_marketed_fleet_slot_6_seller = { 
					set_variable = {
						which = ftm_marketed_fleet_slot_6_lot_cost
						value = ftm_marketed_fleet_slot_6_cost
					}
				}	
				while = {
					count = 99
					if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_cost
									value >= 10000
								}
							}
						}
						add_resource = { energy = -10000 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_cost
								value = -10000
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_cost
									value >= 1000
								}
							}
						}
						add_resource = { energy = -1000 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_cost
								value = -1000
							}		
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_cost
									value >= 100
								}
							}
						}
						add_resource = { energy = -100 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_cost
								value = -100
							}
						}					
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_cost
									value >= 10
								}
							}
						}
						add_resource = { energy = -10 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_cost
								value = -10
							}
						}
					}
					else_if = {
						limit = {
							event_target:ftm_marketed_fleet_slot_6_seller = { 
								check_variable = {
									which = ftm_marketed_fleet_slot_6_lot_cost
									value >= 1
								}
							}
						}
						add_resource = { energy = -1 }
						event_target:ftm_marketed_fleet_slot_6_seller = { 
							change_variable = {
								which = ftm_marketed_fleet_slot_6_lot_cost
								value = -1
							}					
						}
					}
					else = {
						#nothing
					}
				}	
			}
			event_target:ftm_marketed_fleet_slot_6_seller = { 
				country_event = { id = ftm_market.612 }
			}
			remove_global_flag = ftm_market_slot_6_selected	
		}
		else = {
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 300 }
		}
	}
}



# 80 - ежегодная проверка условий продажи для ии
event = {
	id = ftm_market.680
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_6_selected
				has_global_flag = ftm_market_slot_6_in_progress	
			}
		}
		NOT = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		NOT = {
			OR = {
				has_global_flag = crisis_stage_1
				has_global_flag = crisis_stage_2
				has_global_flag = crisis_stage_3
				has_global_flag = crisis_stage_4
				AND = {
					has_global_flag = gray_goo_crisis_active
					NOT = {
						has_global_flag = graygoo_defeated
					}
				}
				AND = {
					has_global_flag = marauder_crisis_started
					NOT = {
						has_global_flag = great_khan_dead
					}
				}
				has_global_flag = war_in_heaven_ongoing
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					OR = {
						has_global_flag = ftm_market_slot_6_selected
						has_global_flag = ftm_market_slot_6_in_progress	
					}
				}
			}
			every_country = {
				limit = {
					NOT = {
						has_country_flag = ftm_ai_sell_block_time
					}
					is_homicidal = no
					is_ai = yes
					is_country_type = default
					is_at_war = no
					used_naval_capacity_percent > 0.8
					resource_stockpile_compare = { resource = energy value < 50000 }
					NOT = {
						any_neighbor_country = {
							is_country_type = default
							OR = {
								is_homicidal = yes
								is_rival = prev
								opinion = {
									who = prev
									value < -50
								}
								their_opinion = {
									who = prev
									value < -50
								}
							}
						}
					}
				}
				set_variable = {
					which = ftm_market_slot_6_num_fleet_count
					value = 0
				}
				every_owned_fleet = {
					limit = {
						fleet_power > 2000
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
					}
					owner = {
						change_variable = {
							which = ftm_market_slot_6_num_fleet_count
							value = 1
						}
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_market_slot_6_num_fleet_count
							value > 2
						}
					}
					random_list = {
						10 = {
							country_event = { id = ftm_market.681 days = 8 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 38 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 68 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 98 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 128 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 158 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 188 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 218 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 248 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 278 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 308 }
						}
						10 = {
							country_event = { id = ftm_market.681 days = 338 }
						}
					}
				}
			}
		}
	}
}


# 81 - выставление флота на продажу (ИИ)
country_event = {
	id = ftm_market.681
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			OR = {
				has_global_flag = ftm_market_slot_6_selected
				has_global_flag = ftm_market_slot_6_in_progress	
				has_country_flag = ftm_ai_sell_block_time
			}
		}
	}
	
	immediate = {
		save_global_event_target_as = ftm_marketed_fleet_slot_6_seller
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						is_alliance_fleet = no
						solar_system = {
							exists = space_owner
							space_owner = {
								is_same_value = root
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
								is_ship_class = shipclass_starbase
								is_ship_class = shipclass_military_special
								is_ship_class = shipclass_military_station
								is_ship_class = shipclass_mining_station
								is_ship_class = shipclass_research_station
								is_ship_class = shipclass_observation_station
								is_ship_class = shipclass_habitat_station
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_6
								has_fleet_flag = ftm_rented_fleet_slot_6
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
						OR = {
							AND = {
								fleet_power > 2000
								years_passed >= 20
								years_passed < 50
							}
							AND = {
								fleet_power > 5000
								years_passed >= 50
								years_passed < 100
							}
							AND = {
								fleet_power > 10000
								years_passed >= 100
								years_passed < 150
							}
							AND = {
								fleet_power > 20000
								years_passed >= 150
								years_passed < 200
							}
							AND = {
								fleet_power > 30000
								years_passed >= 200
							}
							AND = {
								fleet_power > 10000
								mid_game_years_passed > 0
							}
							AND = {
								fleet_power > 30000
								end_game_years_passed > 0
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					is_alliance_fleet = no
					solar_system = {
						exists = space_owner
						space_owner = {
							is_same_value = root
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
							is_ship_class = shipclass_starbase
							is_ship_class = shipclass_military_special
							is_ship_class = shipclass_military_station
							is_ship_class = shipclass_mining_station
							is_ship_class = shipclass_research_station
							is_ship_class = shipclass_observation_station
							is_ship_class = shipclass_habitat_station
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_6
							has_fleet_flag = ftm_rented_fleet_slot_6
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
					OR = {
						AND = {
							fleet_power > 2000
							years_passed >= 20
							years_passed < 50
						}
						AND = {
							fleet_power > 5000
							years_passed >= 50
							years_passed < 100
						}
						AND = {
							fleet_power > 10000
							years_passed >= 100
							years_passed < 150
						}
						AND = {
							fleet_power > 20000
							years_passed >= 150
							years_passed < 200
						}
						AND = {
							fleet_power > 30000
							years_passed >= 200
						}
						AND = {
							fleet_power > 10000
							mid_game_years_passed > 0
						}
						AND = {
							fleet_power > 30000
							end_game_years_passed > 0
						}
					}
				}
				save_global_event_target_as = ftm_marketed_fleet_slot_6
				log = "[Root.GetName] выбрал для рынка флот 6 ([event_target:ftm_marketed_fleet_slot_6.GetFleetName])"
				event_target:ftm_marketed_fleet_slot_6_seller = {
					set_variable = {
						which = ftm_marketed_fleet_slot_6_cost
						value = 0
					}
				}
				if = {
					limit = {
						fleet_power < 3000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 1500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 1200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 1800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 3000
						fleet_power < 5000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 2500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 2000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 3000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 5000
						fleet_power < 7500
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 3800
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 3040
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 4560
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 7500
						fleet_power < 10000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 5000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 4000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 10000
						fleet_power < 15000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 7500
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 6000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 9000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 15000
						fleet_power < 20000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 10000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 8000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 20000
						fleet_power < 30000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 15000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 12000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 18000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 30000
						fleet_power < 40000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 20000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 16000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 24000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 40000
						fleet_power < 50000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 24000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 19200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 28800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 50000
						fleet_power < 65000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 31000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 24800
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 37200
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 65000
						fleet_power < 80000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 38000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 30400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 80000
						fleet_power < 100000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 47000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 37600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 56400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 100000
						fleet_power < 125000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 57000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 45600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 68400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 125000
						fleet_power < 150000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 67000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 53600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 80400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 150000
						fleet_power < 180000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 78000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 62400
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 93600
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 180000
						fleet_power < 220000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 100000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 80000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 120000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 220000
						fleet_power < 260000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 110000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 88000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 132000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 260000
						fleet_power < 300000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 120000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 96000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 144000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 300000
						fleet_power < 360000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 140000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 112000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 360000
						fleet_power < 430000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 160000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 128000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 192000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 430000
						fleet_power < 500000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 170000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 136000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 204000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 500000
						fleet_power < 600000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 190000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 152000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 228000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 600000
						fleet_power < 750000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 210000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 168000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 252000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 750000
						fleet_power < 1000000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 220000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 176000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 264000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				if = {
					limit = {
						fleet_power >= 1000000
					}
					event_target:ftm_marketed_fleet_slot_6_seller = {
						change_variable = {
							which = ftm_marketed_fleet_slot_6_cost
							value = 23000
						}
						while = {
							count = 9
							random_list = {
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.9
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.92
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.95
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.97
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value < 184000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 0.99
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.01
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.03
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.05
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.08
									}
								}
								10 = {
									modifier = {
										factor = 0
										check_variable = {
											which = ftm_marketed_fleet_slot_6_cost
											value > 276000
										}
									}
									multiply_variable = {
										which = ftm_marketed_fleet_slot_6_cost
										value = 1.1
									}
								}
							}
						}
					}
				}
				event_target:ftm_marketed_fleet_slot_6_seller = {
					log = "[Root.GetName]: ценность флота [event_target:ftm_marketed_fleet_slot_6.GetFleetName] равна [Root.ftm_marketed_fleet_slot_6_cost]"
					multiply_variable = {
						which = ftm_marketed_fleet_slot_6_cost
						value = @ftm_cost_mult_energy
					}
					log = "[Root.GetName]: ценна флота [event_target:ftm_marketed_fleet_slot_6.GetFleetName] в энергокредитах равна [Root.ftm_marketed_fleet_slot_6_cost]"
					round_variable_to_closest = {
						which = ftm_marketed_fleet_slot_6_cost
						value = 1
					}
					log = "[Root.GetName]: окончательная цена флота [event_target:ftm_marketed_fleet_slot_6.GetFleetName] равна [Root.ftm_marketed_fleet_slot_6_cost]"
				}
			}
			set_global_flag = ftm_market_slot_6_selected
			country_event = { id = ftm_market.604 }
			event_target:ftm_marketed_fleet_slot_6 = { 
				if = {
					limit = {
						exists = leader
					}
					leader = {
						unassign_leader = this
					}
				}
				set_owner = event_target:ftm_market_country
				set_event_locked = yes
				fleet_event = { id = ftm_market.699 }
			}
			set_variable = {
				which = ftm_market_slot_6_time_in_months
				value = 60
			}
			set_timed_country_flag = { flag = ftm_ai_sell_block_time days = 1800 }
			set_timed_country_flag = { flag = ftm_ai_buy_block_time days = 900 }
		}
	}
}








# 99 - сообщение-уведомление
fleet_event = {
	id = ftm_market.699
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = { 
				AND = {
					is_country_type = default 
					has_communications = event_target:ftm_marketed_fleet_slot_6_seller
					is_homicidal = no
				}
			}
			create_message = {
				type = FTM_MESSAGE
				localization = FTM_MARKET_SLOT_6_NOTIFICATION
				days = 30
				target = event_target:ftm_marketed_fleet_slot_6
				variable = {
					type = name
					localization = COUNTRY
					scope = event_target:ftm_marketed_fleet_slot_6_seller
				}
				variable = {
					type = name
					localization = FLEET
					scope = event_target:ftm_marketed_fleet_slot_6
				}
			}
		}
	}		
}































###############################################
###############################################
###############################################
###############################################
###############################################





# 900 - создание империи "рынок"
event = {
	id = ftm_market.900
	hide_window = yes	
	is_triggered_only = yes
	
	
	immediate = {
		create_country = {
			name = "NAME_FTM_MARKET"
			type = ftm_market
			flag = {
				icon = {
					category = "special"
					file = "caravaneer_03.dds"
				}
				background = {
					category = "backgrounds"
					file = "00_solid.dds"
				}
				colors = {
					"black"
					"black"
					"null"
					"null"
				}
			}
			effect = {
				set_name = "ftm_market_country_name"
				set_faction_hostility = { set_friendly = yes }
				save_global_event_target_as = ftm_market_country
				every_playable_country = {
					establish_communications_no_message = event_target:ftm_market_country
				}
			}
		}
		log = "РЫНОК: СОЗДАН"
	}
}

# 901 - окно дипломатии с Рынком
country_event = {
	id = ftm_market.901
	hide_window = yes	
	is_triggered_only = yes
	
	trigger = {
		from = {
			is_country_type = ftm_market
		}
	}

	immediate = {
		country_event = { id = ftm_market.999 }
	}
}





# 902 - снятие флота с продажи при начале войны (для ИИ)
country_event = {
	id = ftm_market.902
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		root = {
			is_ai = yes
		}
	}

	immediate = {
		from = {
			if = {
				limit = { is_war_participant = { who = root side = attackers } }
				root = {
					random_list = {
						10 = {
							country_event = { id = ftm_market.903 days = 10 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 25 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 40 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 55 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 70 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 80 }
						}
					}
				}
			}
			else_if = {
				limit = { is_war_participant = { who = root side = defenders } }
				root = {
					random_list = {
						10 = {
							country_event = { id = ftm_market.903 days = 5 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 10 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 15 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 20 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 25 }
						}
						10 = {
							country_event = { id = ftm_market.903 days = 30 }
						}
					}
				}
			}
		}
	}
}





# 903 - код снятия флота с продажи (для ИИ)
country_event = {
	id = ftm_market.903
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		#1
		if = {
			limit = {
				has_global_flag = ftm_market_slot_1_selected	
				is_same_value = event_target:ftm_marketed_fleet_slot_1_seller
			}
			log = "[event_target:ftm_marketed_fleet_slot_1_seller.GetName] снимает флот с продажи из-за войны."
			event_target:ftm_marketed_fleet_slot_1 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_1_seller
				set_event_locked = no
			}
			remove_global_flag = ftm_market_slot_1_selected
		}
		#2
		if = {
			limit = {
				has_global_flag = ftm_market_slot_2_selected	
				is_same_value = event_target:ftm_marketed_fleet_slot_2_seller
			}
			log = "[event_target:ftm_marketed_fleet_slot_2_seller.GetName] снимает флот с продажи из-за войны."
			event_target:ftm_marketed_fleet_slot_2 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_2_seller
				set_event_locked = no
			}
			remove_global_flag = ftm_market_slot_2_selected
		}
		#3
		if = {
			limit = {
				has_global_flag = ftm_market_slot_3_selected	
				is_same_value = event_target:ftm_marketed_fleet_slot_3_seller
			}
			log = "[event_target:ftm_marketed_fleet_slot_3_seller.GetName] снимает флот с продажи из-за войны."
			event_target:ftm_marketed_fleet_slot_3 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_3_seller
				set_event_locked = no
			}
			remove_global_flag = ftm_market_slot_3_selected
		}
		#4
		if = {
			limit = {
				has_global_flag = ftm_market_slot_4_selected	
				is_same_value = event_target:ftm_marketed_fleet_slot_4_seller
			}
			log = "[event_target:ftm_marketed_fleet_slot_4_seller.GetName] снимает флот с продажи из-за войны."
			event_target:ftm_marketed_fleet_slot_4 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_4_seller
				set_event_locked = no
			}
			remove_global_flag = ftm_market_slot_4_selected
		}
		#5
		if = {
			limit = {
				has_global_flag = ftm_market_slot_5_selected	
				is_same_value = event_target:ftm_marketed_fleet_slot_5_seller
			}
			log = "[event_target:ftm_marketed_fleet_slot_5_seller.GetName] снимает флот с продажи из-за войны."
			event_target:ftm_marketed_fleet_slot_5 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_5_seller
				set_event_locked = no
			}
			remove_global_flag = ftm_market_slot_5_selected
		}
		#6
		if = {
			limit = {
				has_global_flag = ftm_market_slot_6_selected	
				is_same_value = event_target:ftm_marketed_fleet_slot_6_seller
			}
			log = "[event_target:ftm_marketed_fleet_slot_6_seller.GetName] снимает флот с продажи из-за войны."
			event_target:ftm_marketed_fleet_slot_6 = { 
				set_owner = event_target:ftm_marketed_fleet_slot_6_seller
				set_event_locked = no
			}
			remove_global_flag = ftm_market_slot_6_selected
		}
	}
}



# 999 - проверка на геноцидоидальность
country_event = {
	id = ftm_market.999
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				is_homicidal = no
			}
			country_event = { id = ftm_market.9999 }
		}
		if = {
			limit = {
				is_homicidal = yes
			}
			country_event = { id = ftm_transfer.16 }
		}
	}
}

# 9999 - открытие интерфейса рынка
country_event = {
	id = ftm_market.9999
	title = "OK"
	desc = "OK"
	diplomatic = yes
	is_triggered_only = yes
	custom_gui = ftm_market_window_gui
	option = {
		name = OK
	}
}